(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4597,5152],{20857:(e,t,s)=>{Promise.resolve().then(s.bind(s,23837))},23837:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var a=s(95155),r=s(12115),n=s(35695),i=s(25731),o=s(46751),d=s(44597),l=s(88482),c=s(97168),u=s(69663),m=s(53904),x=s(85339),h=s(35169),p=s(37108),f=s(35742),g=s(24357),v=s(50744),j=s(38564),b=s(4516),y=s(71366),N=s(29799),w=s(46561),D=s(19420),A=s(14186),C=s(53999),k=s(56671),T=s(11518),E=s.n(T),S=s(88145);function I(e){let{order:t,cook:s,deliveryTracking:n,className:i=""}=e,o=(0,r.useRef)(null),d=(0,r.useRef)(null),u=(0,r.useRef)(new Map),[x,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),[v,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!document.querySelector('link[href*="leaflet"]')){let e=document.createElement("link");e.rel="stylesheet",e.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(e)}if(window.L)h(!0);else{let e=document.createElement("script");e.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",e.onload=()=>{h(!0)},document.head.appendChild(e)}})()},[]),(0,r.useEffect)(()=>{var e;if(!x||!o.current||d.current)return;let t=window.L,a=[-22.911,-68.2003];(null==s||null==(e=s.location)?void 0:e.coordinates)&&(a=[s.location.coordinates.latitude,s.location.coordinates.longitude]);let r=t.map(o.current).setView(a,13);return t.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xa9 OpenStreetMap contributors"}).addTo(r),d.current=r,()=>{d.current&&(d.current.remove(),d.current=null)}},[x,s]),(0,r.useEffect)(()=>{var e,a,r,i;if(!d.current||!x)return;let o=window.L,l=d.current;u.current.forEach(e=>{l.removeLayer(e)}),u.current.clear();let c=o.latLngBounds([]);if(null==s||null==(e=s.location)?void 0:e.coordinates){let e=[s.location.coordinates.latitude,s.location.coordinates.longitude],t=o.divIcon({html:'\n          <div style="\n            background: #ff6600;\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border: 3px solid white;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n          ">\n            <div style="color: white; font-size: 18px;">\uD83C\uDF73</div>\n          </div>\n        ',className:"custom-cook-marker",iconSize:[40,40],iconAnchor:[20,20]}),a=o.marker(e,{icon:t}).addTo(l);a.bindPopup('\n        <div style="font-family: system-ui; min-width: 200px;">\n          <h3 style="margin: 0 0 8px 0; font-size: 16px; font-weight: 600; color: #ff6600;">\n            \uD83C\uDF73 '.concat(s.displayName,'\n          </h3>\n          <div style="font-size: 12px; color: #6b7280; margin-bottom: 8px;">\n            Cocinero\n          </div>\n          <div style="font-size: 12px;">\n            ').concat((null==(r=s.location.address)?void 0:r.fullAddress)||"Ubicaci\xf3n del cocinero",'\n          </div>\n          <div style="margin-top: 8px; font-size: 11px; color: #9ca3af;">\n            ⭐ ').concat(s.rating.toFixed(1)," • ").concat(s.totalOrders," pedidos completados\n          </div>\n        </div>\n      ")),u.current.set("cook",a),c.extend(e)}if(null==n?void 0:n.currentLocation){let e=[n.currentLocation.lat,n.currentLocation.lng],t=o.divIcon({html:'\n          <div style="\n            background: #10b981;\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border: 3px solid white;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n            position: relative;\n          ">\n            <div style="color: white; font-size: 18px;">\uD83D\uDE97</div>\n            <div style="\n              position: absolute;\n              top: -2px;\n              right: -2px;\n              width: 12px;\n              height: 12px;\n              background: #ef4444;\n              border-radius: 50%;\n              animation: pulse 2s infinite;\n            "></div>\n          </div>\n        ',className:"custom-driver-marker",iconSize:[40,40],iconAnchor:[20,20]}),s=o.marker(e,{icon:t}).addTo(l),a=(null==(i=n.currentLocation.timestamp)?void 0:i.toDate)?n.currentLocation.timestamp.toDate():new Date;s.bindPopup('\n        <div style="font-family: system-ui; min-width: 200px;">\n          <h3 style="margin: 0 0 8px 0; font-size: 16px; font-weight: 600; color: #10b981;">\n            \uD83D\uDE97 '.concat(n.driverName,'\n          </h3>\n          <div style="font-size: 12px; color: #6b7280; margin-bottom: 8px;">\n            Conductor - ').concat("heading_to_pickup"===n.currentStep?"Yendo al cocinero":"at_pickup"===n.currentStep?"Recogiendo pedido":"heading_to_delivery"===n.currentStep?"En camino hacia ti":"Entregando","\n          </div>\n          ").concat(n.estimatedDeliveryTime?'\n            <div style="font-size: 12px; margin-bottom: 4px;">\n              \uD83D\uDD52 ETA: '.concat(n.estimatedDeliveryTime,"\n            </div>\n          "):"",'\n          <div style="font-size: 11px; color: #9ca3af;">\n            \xdaltima actualizaci\xf3n: ').concat(a.toLocaleTimeString("es-CL"),"\n          </div>\n        </div>\n      ")),u.current.set("driver",s),c.extend(e),g(a)}if(t.deliveryInfo.address&&(null==s||null==(a=s.location)?void 0:a.coordinates)){let e=[s.location.coordinates.latitude+.01,s.location.coordinates.longitude+.01],a=o.divIcon({html:'\n          <div style="\n            background: #3b82f6;\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border: 3px solid white;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n          ">\n            <div style="color: white; font-size: 18px;">\uD83C\uDFE0</div>\n          </div>\n        ',className:"custom-destination-marker",iconSize:[40,40],iconAnchor:[20,20]}),r=o.marker(e,{icon:a}).addTo(l);r.bindPopup('\n        <div style="font-family: system-ui; min-width: 200px;">\n          <h3 style="margin: 0 0 8px 0; font-size: 16px; font-weight: 600; color: #3b82f6;">\n            \uD83C\uDFE0 Tu Ubicaci\xf3n\n          </h3>\n          <div style="font-size: 12px; color: #6b7280; margin-bottom: 8px;">\n            Destino de entrega\n          </div>\n          <div style="font-size: 12px;">\n            '.concat(t.deliveryInfo.address,"\n          </div>\n          ").concat(t.deliveryInfo.instructions?'\n            <div style="font-size: 11px; color: #9ca3af; margin-top: 4px;">\n              \uD83D\uDCDD '.concat(t.deliveryInfo.instructions,"\n            </div>\n          "):"","\n        </div>\n      ")),u.current.set("destination",r),c.extend(e)}c.isValid()&&l.fitBounds(c,{padding:[20,20]})},[x,s,n,t]);let b=()=>{if(!n)return"Preparando seguimiento...";switch(n.currentStep){case"heading_to_pickup":return"Conductor yendo al cocinero";case"at_pickup":return"Recogiendo tu pedido";case"heading_to_delivery":return"En camino hacia tu ubicaci\xf3n";case"delivered":return"Pedido entregado";default:return"Actualizando ubicaci\xf3n..."}};return(0,a.jsxs)("div",{className:"jsx-f9bd27787d56e244 "+"space-y-4 ".concat(i),children:[(0,a.jsxs)("div",{className:"jsx-f9bd27787d56e244 flex items-center justify-between px-4 py-2 bg-muted rounded-t-lg",children:[(0,a.jsxs)("div",{className:"jsx-f9bd27787d56e244 flex items-center gap-2",children:[(0,a.jsx)(S.E,{variant:"secondary",className:"text-xs",children:b()}),p&&(0,a.jsxs)("span",{className:"jsx-f9bd27787d56e244 text-xs text-muted-foreground",children:["Actualizado: ",p.toLocaleTimeString("es-CL")]})]}),(0,a.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{j(!0),setTimeout(()=>{j(!1),g(new Date)},1e3)},disabled:v,children:(0,a.jsx)(m.A,{className:"h-4 w-4 ".concat(v?"animate-spin":"")})})]}),(0,a.jsxs)("div",{className:"jsx-f9bd27787d56e244 relative",children:[(0,a.jsx)("div",{ref:o,style:{zIndex:1},className:"jsx-f9bd27787d56e244 w-full h-[400px] bg-gray-100 rounded-b-lg",children:!x&&(0,a.jsx)("div",{className:"jsx-f9bd27787d56e244 flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"jsx-f9bd27787d56e244 text-center",children:[(0,a.jsx)(m.A,{className:"h-8 w-8 animate-spin text-gray-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"jsx-f9bd27787d56e244 text-gray-500",children:"Cargando mapa..."})]})})}),(0,a.jsx)("div",{className:"jsx-f9bd27787d56e244 absolute bottom-4 left-4 bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-lg z-10",children:(0,a.jsxs)("div",{className:"jsx-f9bd27787d56e244 space-y-2 text-xs",children:[(0,a.jsxs)("div",{className:"jsx-f9bd27787d56e244 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"jsx-f9bd27787d56e244 w-4 h-4 bg-moai-orange rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"jsx-f9bd27787d56e244 text-white text-xs",children:"\uD83C\uDF73"})}),(0,a.jsx)("span",{className:"jsx-f9bd27787d56e244",children:"Cocinero"})]}),n&&(0,a.jsxs)("div",{className:"jsx-f9bd27787d56e244 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"jsx-f9bd27787d56e244 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"jsx-f9bd27787d56e244 text-white text-xs",children:"\uD83D\uDE97"})}),(0,a.jsx)("span",{className:"jsx-f9bd27787d56e244",children:"Conductor"})]}),(0,a.jsxs)("div",{className:"jsx-f9bd27787d56e244 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"jsx-f9bd27787d56e244 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"jsx-f9bd27787d56e244 text-white text-xs",children:"\uD83C\uDFE0"})}),(0,a.jsx)("span",{className:"jsx-f9bd27787d56e244",children:"Tu ubicaci\xf3n"})]})]})})]}),n&&(0,a.jsxs)("div",{className:"jsx-f9bd27787d56e244 grid grid-cols-1 md:grid-cols-3 gap-4 px-4 pb-4",children:[(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-3 text-center",children:[(0,a.jsx)(A.A,{className:"h-5 w-5 mx-auto mb-2 text-muted-foreground"}),(0,a.jsx)("p",{className:"jsx-f9bd27787d56e244 text-xs text-muted-foreground",children:"ETA"}),(0,a.jsx)("p",{className:"jsx-f9bd27787d56e244 font-semibold text-sm",children:n.estimatedDeliveryTime||"Calculando..."})]})}),(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-3 text-center",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 mx-auto mb-2 text-muted-foreground"}),(0,a.jsx)("p",{className:"jsx-f9bd27787d56e244 text-xs text-muted-foreground",children:"Distancia"}),(0,a.jsx)("p",{className:"jsx-f9bd27787d56e244 font-semibold text-sm",children:"Calculando..."})]})}),(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-3 text-center",children:[(0,a.jsx)(N.A,{className:"h-5 w-5 mx-auto mb-2 text-muted-foreground"}),(0,a.jsx)("p",{className:"jsx-f9bd27787d56e244 text-xs text-muted-foreground",children:"Estado"}),(0,a.jsx)("p",{className:"jsx-f9bd27787d56e244 font-semibold text-sm",children:b()})]})})]}),(0,a.jsx)(E(),{id:"f9bd27787d56e244",children:"@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}.custom-cook-marker,.custom-driver-marker,.custom-destination-marker{background:transparent!important;border:none!important}.leaflet-popup-content-wrapper{border-radius:8px}"})]})}var z=s(40646);function P(e){let{currentStatus:t,orderTime:s,estimatedDelivery:n,className:i=""}=e,[o,d]=(0,r.useState)([]),[l,c]=(0,r.useState)(new Date);function u(e){let s=["pending","accepted","preparing","ready","delivering","delivered"],a=s.indexOf(t),r=s.indexOf(e);return"cancelled"===t?r<=a?"completed":"pending":r<a?"completed":r===a?"current":"pending"}(0,r.useEffect)(()=>{let e=setInterval(()=>{c(new Date)},6e4);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{let e=[{id:"pending",title:"Pedido Confirmado",description:"Tu pedido ha sido recibido",icon:(0,a.jsx)(z.A,{className:"h-5 w-5"}),status:u("pending"),timestamp:(null==s?void 0:s.toDate)?s.toDate():new Date(s)},{id:"accepted",title:"Cocinero Asignado",description:"El cocinero ha confirmado tu pedido",icon:(0,a.jsx)(v.A,{className:"h-5 w-5"}),status:u("accepted")},{id:"preparing",title:"Preparando",description:"Tu comida se est\xe1 cocinando",icon:(0,a.jsx)(w.A,{className:"h-5 w-5"}),status:u("preparing")},{id:"ready",title:"Listo",description:"Tu pedido est\xe1 listo para entregar",icon:(0,a.jsx)(p.A,{className:"h-5 w-5"}),status:u("ready")},{id:"delivering",title:"En Camino",description:"Tu pedido est\xe1 siendo entregado",icon:(0,a.jsx)(N.A,{className:"h-5 w-5"}),status:u("delivering")},{id:"delivered",title:"Entregado",description:"\xa1Disfruta tu comida!",icon:(0,a.jsx)(b.A,{className:"h-5 w-5"}),status:u("delivered"),estimatedTime:n}];"cancelled"===t&&(e.forEach(e=>{"current"===e.status&&(e.status="pending")}),e.push({id:"cancelled",title:"Pedido Cancelado",description:"El pedido ha sido cancelado",icon:(0,a.jsx)(x.A,{className:"h-5 w-5"}),status:"current"})),d(e)},[t,s,n]);let m=e=>{if(!e)return"";let t=Math.floor((l.getTime()-e.getTime())/6e4),s=Math.floor(t/60);return s>0?"hace ".concat(s,"h ").concat(t%60,"m"):"hace ".concat(t,"m")};return(0,a.jsxs)("div",{className:"space-y-6 ".concat(i),children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Estado Actual"}),(0,a.jsx)("p",{className:"font-semibold text-lg",children:(()=>{let e=o.find(e=>"current"===e.status);if(!e)return"";switch(e.id){case"pending":return"Esperando confirmaci\xf3n del cocinero...";case"accepted":return"El cocinero comenzar\xe1 la preparaci\xf3n pronto";case"preparing":var t;let s=m(null==(t=o.find(e=>"accepted"===e.id))?void 0:t.timestamp);return"Preparando tu pedido ".concat(s?"(".concat(s,")"):"");case"ready":return"Buscando conductor disponible...";case"delivering":return n?"Llegada estimada: ".concat(n):"En camino hacia tu ubicaci\xf3n";case"delivered":return"\xa1Pedido entregado exitosamente!";case"cancelled":return"El pedido ha sido cancelado";default:return""}})()})]}),(0,a.jsx)("div",{className:"relative",children:o.map((e,t)=>(0,a.jsxs)("div",{className:"relative flex items-start pb-8 last:pb-0",children:[t<o.length-1&&(0,a.jsx)("div",{className:"absolute left-6 top-12 w-0.5 h-8 ".concat((e=>{let t=o[e],s=o[e+1];return"completed"===t.status&&s&&"pending"!==s.status?"bg-green-500":"bg-gray-300"})(t)," transition-colors duration-500")}),(0,a.jsx)("div",{className:"\n              relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-2 \n              ".concat((e=>{switch(e){case"completed":return"bg-green-500 border-green-500 text-white";case"current":return"bg-moai-orange border-moai-orange text-white animate-pulse";case"skipped":return"bg-gray-300 border-gray-300 text-gray-600";default:return"bg-gray-100 border-gray-300 text-gray-500"}})(e.status)," \n              transition-all duration-500 shadow-sm\n            "),children:"completed"===e.status?(0,a.jsx)(z.A,{className:"h-6 w-6"}):e.icon}),(0,a.jsxs)("div",{className:"ml-4 flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-semibold ".concat("current"===e.status?"text-moai-orange":"completed"===e.status?"text-green-700":"text-gray-600"),children:e.title}),(0,a.jsx)(S.E,{variant:"completed"===e.status?"default":"current"===e.status?"secondary":"outline",className:"completed"===e.status?"bg-green-500 hover:bg-green-600":"current"===e.status?"bg-moai-orange text-white":"",children:"completed"===e.status?"Completado":"current"===e.status?"En Proceso":"Pendiente"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),e.timestamp&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[(0,a.jsx)(A.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:[e.timestamp.toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})," - ",m(e.timestamp)]})]}),e.estimatedTime&&"current"===e.status&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-moai-orange font-medium",children:[(0,a.jsx)(w.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["ETA: ",e.estimatedTime]})]})]})]},e.id))}),(0,a.jsx)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tiempo Transcurrido"}),(0,a.jsx)("p",{className:"font-semibold",children:m((null==s?void 0:s.toDate)?s.toDate():new Date(s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Entrega Estimada"}),(0,a.jsx)("p",{className:"font-semibold",children:n||"Calculando..."})]})]})})]})}var L=s(63226);function M(e){var t,s,T,E;let{}=e,{user:S}=(0,i.A)(),z=(0,n.useRouter)(),M=(0,n.useParams)().orderId,[B,R]=(0,r.useState)(null),[Z,_]=(0,r.useState)(null),[$,F]=(0,r.useState)(null),[U,O]=(0,r.useState)(null),[W,q]=(0,r.useState)(!0),[H,K]=(0,r.useState)(!1),[V,G]=(0,r.useState)(null);(0,L.u)(M,!!S&&!!B),(0,r.useEffect)(()=>{if(!S||!M)return;Q();let e=o.OrdersService.subscribeToOrderUpdates(S.uid,e=>{let t=e.find(e=>e.id===M);t&&(R(t),t.cookerId&&X(t.cookerId),t.driverId&&Y(t.driverId))}),t=null;return B&&["delivering","ready"].includes(B.status)&&(t=d.DeliveryTrackingService.subscribeToDeliveryTracking(M,e=>{O(e)})),()=>{e(),t&&t()}},[S,M,null==B?void 0:B.status]);let Q=async()=>{try{q(!0),G(null);let e=await o.OrdersService.getOrderById(M);if(!e)return void G("Pedido no encontrado");if(e.customerId!==(null==S?void 0:S.uid))return void G("No tienes permisos para ver este pedido");R(e),e.cookerId&&await X(e.cookerId),e.driverId&&await Y(e.driverId)}catch(e){console.error("Error loading order:",e),G("Error al cargar el pedido")}finally{q(!1)}},X=async e=>{try{let t=await o.CooksService.getCookById(e);_(t)}catch(e){console.error("Error loading cook data:",e)}},Y=async e=>{try{let t=await o.DriversService.getDriverById(e);F(t)}catch(e){console.error("Error loading driver data:",e)}},J=async()=>{K(!0),await Q(),K(!1),k.oR.success("Informaci\xf3n actualizada")};return W?(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(m.A,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Cargando informaci\xf3n del pedido..."})]})}):V||!B?(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(x.A,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Error"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:V||"Pedido no encontrado"}),(0,a.jsxs)(c.$,{onClick:()=>z.push("/client/orders"),children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Volver a mis pedidos"]})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("div",{className:"bg-primary text-primary-foreground shadow-sm",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:()=>z.push("/client/orders"),className:"text-primary-foreground hover:bg-primary/20",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Mis Pedidos"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Seguimiento de Pedido"}),(0,a.jsxs)("p",{className:"text-sm opacity-90",children:["#",B.id.slice(-8)]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:J,disabled:H,className:"text-primary-foreground hover:bg-primary/20",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2 ".concat(H?"animate-spin":"")}),"Actualizar"]})})]})})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5"}),"Estado del Pedido"]}),(0,a.jsx)(l.BT,{children:(()=>{if(!B)return"";switch(B.status){case"pending":return"Esperando confirmaci\xf3n del cocinero";case"accepted":return"Pedido confirmado, preparaci\xf3n iniciar\xe1 pronto";case"preparing":return(null==Z?void 0:Z.displayName)?"".concat(Z.displayName," est\xe1 preparando tu pedido"):"Tu pedido se est\xe1 preparando";case"ready":return B.selfDelivery?"Listo para recoger":"Buscando conductor para la entrega";case"delivering":return(null==$?void 0:$.displayName)?"".concat($.displayName," est\xe1 en camino"):"Tu pedido est\xe1 en camino";case"delivered":return"\xa1Pedido entregado exitosamente!";case"cancelled":return"Pedido cancelado";default:return"Estado desconocido"}})()})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)(P,{currentStatus:B.status,orderTime:B.createdAt,estimatedDelivery:(null==U?void 0:U.totalEstimatedTime)?U.totalEstimatedTime:(null==B?void 0:B.estimatedDeliveryTime)?new Date(B.estimatedDeliveryTime).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"}):"Calculando..."})})]}),("delivering"===B.status||"ready"===B.status)&&U&&(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5"}),"Seguimiento en Tiempo Real"]})}),(0,a.jsx)(l.Wu,{className:"p-0",children:(0,a.jsx)(I,{order:B,cook:Z,deliveryTracking:U,className:"h-[400px] rounded-b-lg"})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"Detalles del Pedido"})}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[B.dishes.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium",children:e.dishName}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Cantidad: ",e.quantity]}),e.notes&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground italic",children:["Nota: ",e.notes]})]}),(0,a.jsx)("p",{className:"font-medium",children:(0,C.$g)(e.price*e.quantity)})]},t)),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-lg font-bold",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{children:(0,C.$g)(B.total)})]})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[["ready","delivering"].includes(B.status)&&B.deliveryCode&&(0,a.jsxs)(l.Zp,{className:"border-moai-orange bg-orange-50",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{className:"text-moai-orange",children:"C\xf3digo de Entrega"}),(0,a.jsx)(l.BT,{children:"Comparte este c\xf3digo con el conductor"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-4xl font-bold text-moai-orange mb-2 font-mono tracking-wider",children:[B.deliveryCode.slice(0,2),"-",B.deliveryCode.slice(2)]}),(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>{(null==B?void 0:B.deliveryCode)&&(navigator.clipboard.writeText(B.deliveryCode),k.oR.success("C\xf3digo copiado al portapapeles"))},className:"text-moai-orange border-moai-orange hover:bg-moai-orange hover:text-white",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Copiar C\xf3digo"]})]})})]}),Z&&(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5"}),"Tu Cocinero"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsxs)(u.eu,{className:"h-12 w-12",children:[(0,a.jsx)(u.BK,{src:Z.avatar}),(0,a.jsx)(u.q5,{children:(0,a.jsx)(v.A,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold",children:Z.displayName}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Z.rating.toFixed(1)," (",Z.reviewCount," rese\xf1as)"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:(null==(s=Z.location)||null==(t=s.address)?void 0:t.fullAddress)||"Ubicaci\xf3n no disponible"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[Z.totalOrders," pedidos completados"]})]})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,a.jsxs)(c.$,{variant:"outline",size:"sm",className:"w-full",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Contactar Cocinero"]})})]})]}),$&&"delivering"===B.status&&(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-5 w-5"}),"Tu Conductor"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsxs)(u.eu,{className:"h-12 w-12",children:[(0,a.jsx)(u.BK,{src:$.avatar}),(0,a.jsx)(u.q5,{children:(0,a.jsx)(N.A,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold",children:$.displayName}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[$.rating.toFixed(1)," (",$.reviewCount||0," rese\xf1as)"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[$.vehicleType," - ",null==(T=$.vehicleInfo)?void 0:T.make," ",null==(E=$.vehicleInfo)?void 0:E.model]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[$.totalDeliveries," entregas completadas"]})]}),(null==U?void 0:U.estimatedDeliveryTime)&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:["ETA: ",U.estimatedDeliveryTime]})]})]}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t space-y-2",children:[(0,a.jsxs)(c.$,{variant:"outline",size:"sm",className:"w-full",children:[(0,a.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"Llamar Conductor"]}),(0,a.jsxs)(c.$,{variant:"outline",size:"sm",className:"w-full",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Enviar Mensaje"]})]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"Informaci\xf3n de Entrega"})}),(0,a.jsxs)(l.Wu,{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:B.deliveryInfo.address})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:B.deliveryInfo.phone})]}),B.deliveryInfo.instructions&&(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,a.jsx)("span",{children:B.deliveryInfo.instructions})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:["Pedido realizado: ",new Date(B.createdAt).toLocaleString("es-CL")]})]})]})]})]})]})})]})}},25731:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,AuthProvider:()=>l});var a=s(95155),r=s(12115),n=s(66579),i=s(45404),o=s(35317);let d=(0,r.createContext)({user:null,role:null,loading:!0,logout:async()=>{}}),l=e=>{let{children:t}=e,[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[m,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(0,i.hg)(n.j,async e=>{try{if(e){l(e);let t="admin@moai.com"===e.email||"admin"===e.uid||e.email&&e.email.includes("admin"),s=(0,o.doc)(n.db,"users",e.uid),a=await (0,o.getDoc)(s),r=0,i=t?2:5;for(;!a.exists()&&r<i;){let t=Math.min(500*Math.pow(2,r),8e3);console.log("AuthContext: Retrying user document fetch (".concat(r+1,"/").concat(i,") after ").concat(t,"ms for ").concat(e.email)),await new Promise(e=>setTimeout(e,t)),a=await (0,o.getDoc)(s),r++}if(a.exists()){let r=a.data().role;t&&"Admin"!==r&&(r="Admin",await (0,o.BN)(s,{role:"Admin"},{merge:!0})),u(r),console.log("AuthContext: User ".concat(e.email," has role: ").concat(r))}else if(t)await (0,o.BN)(s,{role:"Admin"},{merge:!0}),u("Admin"),console.log("AuthContext: Created Admin role for ".concat(e.email));else{console.warn("AuthContext: User ".concat(e.email," document not found after ").concat(r," retries. This may indicate a network issue or missing registration.")),setTimeout(()=>{u(null),console.log("AuthContext: Set role to null for ".concat(e.email," after extended wait"))},2e3);return}}else l(null),u(null)}catch(t){console.error("Auth state change error:",t),e?(l(e),u("admin@moai.com"===e.email||"admin"===e.uid||e.email&&e.email.includes("admin")?"Admin":null)):(l(null),u(null))}finally{x(!1)}});return()=>e()},[]);let h=async()=>{try{await (0,i.CI)(n.j);try{await fetch("/api/auth/logout",{method:"POST"})}catch(e){console.warn("API logout failed, but Firebase logout succeeded:",e)}}catch(e){console.error("Error signing out:",e)}};return(0,a.jsx)(d.Provider,{value:{user:s,role:c,loading:m,logout:h},children:t})},c=()=>(0,r.useContext)(d)},44597:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DeliveryTrackingService:()=>n});var a=s(66579),r=s(35317);class n{static async updateDeliveryTracking(e){try{let t=(0,r.doc)(a.db,this.collection,e.orderId);return await (0,r.BN)(t,{...e,lastUpdated:r.Dc.now()},{merge:!0}),!0}catch(e){return console.error("Error updating delivery tracking:",e),!1}}static subscribeToDeliveryTracking(e,t){let s=(0,r.doc)(a.db,this.collection,e);return(0,r.aQ)(s,e=>{e.exists()?t({orderId:e.id,...e.data()}):t(null)},e=>{console.error("Error subscribing to delivery tracking:",e),t(null)})}static async updateDriverLocation(e,t){try{let s=(0,r.doc)(a.db,this.collection,e);return await (0,r.mZ)(s,{currentLocation:{...t,timestamp:r.Dc.now()},lastUpdated:r.Dc.now()}),!0}catch(e){return console.error("Error updating driver location:",e),!1}}static async updateETA(e,t){try{let s=(0,r.doc)(a.db,this.collection,e),n={lastUpdated:r.Dc.now()};return t.pickup&&(n.estimatedPickupTime=t.pickup),t.delivery&&(n.estimatedDeliveryTime=t.delivery),t.total&&(n.totalEstimatedTime=t.total),await (0,r.mZ)(s,n),!0}catch(e){return console.error("Error updating ETA:",e),!1}}static async updateDeliveryStep(e,t){try{let s=(0,r.doc)(a.db,this.collection,e);return await (0,r.mZ)(s,{currentStep:t,lastUpdated:r.Dc.now()}),!0}catch(e){return console.error("Error updating delivery step:",e),!1}}static async completeDelivery(e){try{let t=(0,r.doc)(a.db,this.collection,e);return await (0,r.mZ)(t,{currentStep:"delivered",lastUpdated:r.Dc.now()}),!0}catch(e){return console.error("Error completing delivery:",e),!1}}static getCurrentLocation(){return new Promise((e,t)=>{if(!navigator.geolocation)return void t(Error("Geolocation not supported"));navigator.geolocation.getCurrentPosition(t=>{e({lat:t.coords.latitude,lng:t.coords.longitude})},e=>t(e),{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4})})}static calculateDistance(e,t,s,a){let r=(s-e)*Math.PI/180,n=(a-t)*Math.PI/180,i=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371}static startLocationTracking(e,t,s,a){let r=null,n=0,i=async()=>{try{let t=await this.getCurrentLocation(),s=Date.now();s-n>1e4&&(await this.updateDriverLocation(e,t),n=s),null==a||a(t)}catch(e){console.error("Error updating location:",e)}};return navigator.geolocation&&(r=navigator.geolocation.watchPosition(()=>i(),e=>console.error("Geolocation error:",e),{enableHighAccuracy:!0,timeout:1e4,maximumAge:5e3})),i(),{stop:()=>{null!==r&&navigator.geolocation.clearWatch(r)}}}}n.collection="deliveryTracking"},53999:(e,t,s)=>{"use strict";s.d(t,{$B:()=>m,$g:()=>i,Dm:()=>l,HM:()=>d,bC:()=>u,cn:()=>n,generateDeliveryCode:()=>o,uA:()=>c});var a=s(52596),r=s(39688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}function i(e){return"$".concat(Math.round(e).toLocaleString("es-CL"))}function o(){return Math.floor(1e3+9e3*Math.random()).toString()}function d(e){return e.replace(/(\d{2})(\d{2})/,"$1-$2")}function l(e){let t=0;return e.forEach(e=>{let s=function(e){var t,s;let a=e.toLowerCase();return a.includes("hour")?60*parseFloat((null==(t=a.match(/(\d+(?:\.\d+)?)/))?void 0:t[1])||"1"):a.includes("min")?parseInt((null==(s=a.match(/(\d+)/))?void 0:s[1])||"30"):30}(e.prepTime);s>t&&(t=s)}),t}function c(e,t){return Math.min(Math.max((new Date().getTime()-e.getTime())/6e4/t*100,0),100)}function u(e,t){let s=new Date(e);return s.setMinutes(s.getMinutes()+t),s}function m(e,t){let s=new Date,a=u(e,t).getTime()-s.getTime();if(a<=0)return"Listo";let r=Math.ceil(a/6e4);if(r<60)return"".concat(r," min");{let e=Math.floor(r/60);return"".concat(e,"h ").concat(r%60,"m")}}},66579:(e,t,s)=>{"use strict";let a;s.d(t,{db:()=>d,j:()=>o,y:()=>a});var r=s(23915),n=s(45404),i=s(35317);a=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyBptLm3y63BDBH9Xgt_UY40ZjsgUvMOKGI",authDomain:"hometaste-tlpog.firebaseapp.com",projectId:"hometaste-tlpog",storageBucket:"hometaste-tlpog.firebasestorage.app",messagingSenderId:"72297856520",appId:"1:72297856520:web:c7d851e4c00c67ec419bbd"});let o=(0,n.xI)(a),d=(0,i.aU)(a)},69663:(e,t,s)=>{"use strict";s.d(t,{BK:()=>o,eu:()=>i,q5:()=>d});var a=s(95155),r=s(12115),n=s(53999);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});i.displayName="Avatar";let o=r.forwardRef((e,t)=>{let{className:s,...i}=e,[o,d]=r.useState(!1);return o||!i.src?null:(0,a.jsx)("img",{ref:t,className:(0,n.cn)("aspect-square h-full w-full object-cover",s),onError:()=>d(!0),...i})});o.displayName="AvatarImage";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted text-muted-foreground",s),...r})});d.displayName="AvatarFallback"},88145:(e,t,s)=>{"use strict";s.d(t,{E:()=>o});var a=s(95155);s(12115);var r=s(74466),n=s(53999);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...r})}},88482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>o});var a=s(95155),r=s(12115),n=s(53999);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300 hover:shadow-lg",s),...r})});i.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});o.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});l.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},97168:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(95155),r=s(12115),n=s(99708),i=s(74466),o=s(38274),d=s(53999);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold transition-all duration-300 transform hover:scale-105 active:scale-95 disabled:pointer-events-none disabled:opacity-50 disabled:hover:scale-100 disabled:active:scale-100 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-offset-2 relative overflow-hidden group",{variants:{variant:{default:"bg-gradient-to-r from-moai-500 to-moai-600 text-white shadow-lg hover:shadow-xl hover:shadow-moai-500/25 border-0 hover:from-moai-600 hover:to-moai-700",destructive:"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg hover:shadow-xl hover:shadow-red-500/25 hover:from-red-600 hover:to-red-700",outline:"border-2 border-moai-200 bg-background/80 backdrop-blur-sm shadow-sm hover:bg-moai-50 hover:text-moai-700 hover:border-moai-300 hover:shadow-md",secondary:"bg-gradient-to-r from-pacific-500 to-pacific-600 text-white shadow-lg hover:shadow-xl hover:shadow-pacific-500/25 hover:from-pacific-600 hover:to-pacific-700",ghost:"hover:bg-moai-50/80 hover:text-moai-700 hover:backdrop-blur-sm",link:"text-moai-600 underline-offset-4 hover:underline hover:text-moai-700 p-0 h-auto shadow-none hover:shadow-none",glass:"bg-white/10 backdrop-blur-md border border-white/20 text-white shadow-lg hover:bg-white/20 hover:shadow-xl",premium:"bg-gradient-to-r from-amber-400 via-orange-500 to-red-500 text-white shadow-lg hover:shadow-xl hover:shadow-orange-500/30 hover:from-amber-500 hover:via-orange-600 hover:to-red-600"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-lg gap-1.5 px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:c=!1,loading:u=!1,icon:m,glow:x=!1,children:h,...p}=e,f=c?n.DX:"button";return(0,a.jsxs)(f,{className:(0,d.cn)(l({variant:r,size:i,className:s})),ref:t,disabled:u||p.disabled,...p,children:[(0,a.jsx)("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),x&&(0,a.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-moai-500/20 to-pacific-500/20 blur-xl group-hover:blur-2xl transition-all duration-300 opacity-0 group-hover:opacity-100"}),u&&(0,a.jsx)(o.P.div,{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),m&&!u&&(0,a.jsx)(o.P.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:m}),(0,a.jsx)("span",{className:"relative z-10 flex items-center gap-2",children:h})]})});c.displayName="Button"}},e=>{e.O(0,[9135,3965,6331,2670,6671,8972,6751,3226,8441,5964,7358],()=>e(e.s=20857)),_N_E=e.O()}]);