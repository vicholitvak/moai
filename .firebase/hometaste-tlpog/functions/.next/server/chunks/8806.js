"use strict";exports.id=8806,exports.ids=[8806],exports.modules={25541:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},28561:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},56085:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},67760:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},84463:(a,b,c)=>{c.d(b,{h:()=>d});class d{static getTimeOfDay(){let a=new Date().getHours();return a>=6&&a<11?"desayuno":a>=11&&a<16?"almuerzo":a>=16&&a<23?"cena":"baj\xf3n"}static getTimeBasedCategories(a){return({desayuno:["Desayuno","Para Tomar","Saludable","Vegana"],almuerzo:["Italiana","Mexicana","Americana","China","Saludable"],cena:["Francesa","Italiana","Japonesa","Mediterr\xe1nea","India"],bajón:["Acompa\xf1amientos","Para Tomar","Americana","Mexicana"]})[a]||[]}static calculatePopularityScore(a){let b=20*a.rating;return Math.round(b+Math.min(2*a.reviewCount,40)+40*Math.random())}static calculateTrendingScore(a){return Math.round(100*Math.random()+20*(a.rating>=4.5)+30*!!this.isDishNew(a))}static isDishNew(a){return a.createdAt?(new Date().getTime()-a.createdAt.toDate().getTime())/864e5<=7:.1>Math.random()}static isPremiumDish(a){return a.price>15e3&&a.rating>=4.5}static isQuickBite(a){return("string"==typeof a.prepTime?parseInt(a.prepTime.replace(/\D/g,"")):a.prepTime)<=20}static filterByTimeOfDay(a,b){let c=this.getTimeBasedCategories(b);return a.filter(a=>!!c.includes(a.category)||(({desayuno:["desayuno","morning","caf\xe9","breakfast"],almuerzo:["almuerzo","lunch","completo","main"],cena:["cena","dinner","evening","elegant"],bajón:["snack","late","quick","comfort"]})[b]||[]).some(b=>a.tags?.some(a=>a.toLowerCase().includes(b.toLowerCase()))||a.name.toLowerCase().includes(b.toLowerCase())||a.description.toLowerCase().includes(b.toLowerCase())))}static generateRecommendations(a,b){let c=a.filter(a=>a.isAvailable),d=this.filterByTimeOfDay(c,b.timeOfDay),e=c.map(a=>({...a,popularityScore:this.calculatePopularityScore(a),trendingScore:this.calculateTrendingScore(a),isNew:this.isDishNew(a),isPremium:this.isPremiumDish(a),isQuickBite:this.isQuickBite(a)})),f=d.filter(a=>a.rating>=4).sort((a,b)=>{let c=100*a.rating+a.reviewCount;return 100*b.rating+b.reviewCount-c}).slice(0,6),g=e.sort((a,b)=>b.trendingScore-a.trendingScore).slice(0,8),h=e.sort((a,b)=>b.popularityScore-a.popularityScore).slice(0,8),i=c.filter(a=>.3>Math.random()).sort((a,b)=>b.rating-a.rating).slice(0,6),j=d.filter(a=>b.userPreferences?b.userPreferences.some(b=>a.category.toLowerCase().includes(b.toLowerCase())||a.tags?.some(a=>a.toLowerCase().includes(b.toLowerCase()))):a.rating>=4.2).sort((a,b)=>b.rating-a.rating).slice(0,6),k=e.filter(a=>a.isNew).sort((a,b)=>b.rating-a.rating).slice(0,6),l=e.filter(a=>a.isQuickBite).sort((a,b)=>("string"==typeof a.prepTime?parseInt(a.prepTime.replace(/\D/g,"")):a.prepTime)-("string"==typeof b.prepTime?parseInt(b.prepTime.replace(/\D/g,"")):b.prepTime)).slice(0,6),m=e.filter(a=>a.isPremium).sort((a,b)=>b.price-a.price).slice(0,6);return{featured:f.slice(0,6),trending:g.slice(0,8),popular:h.slice(0,8),nearYou:i.slice(0,6),forYou:j.slice(0,6),newAndExciting:k.slice(0,6),quickBites:l.slice(0,6),premiumPicks:m.slice(0,6)}}static getRecommendationSections(a){return[{key:"featured",title:"Destacados para Ti",subtitle:"Los mejores platos seleccionados",icon:"⭐",priority:1},{key:"trending",title:"Tendencia Ahora",subtitle:"Lo que est\xe1 pidiendo todo el mundo",icon:"\uD83D\uDD25",priority:2},{key:"popular",title:"M\xe1s Populares",subtitle:"Los favoritos de nuestros usuarios",icon:"❤️",priority:3},...{desayuno:[{key:"quickBites",title:"Desayuno R\xe1pido",subtitle:"Para empezar el d\xeda sin demora",icon:"⚡",priority:2}],almuerzo:[{key:"forYou",title:"Almuerzos",subtitle:"Comidas completas y nutritivas",icon:"\uD83C\uDF7D️",priority:2}],cena:[{key:"premiumPicks",title:"Cena Premium",subtitle:"Experiencias culinarias especiales",icon:"\uD83D\uDC51",priority:2},{key:"forYou",title:"Ideal para tu Cena",subtitle:"Sabores perfectos para cerrar el d\xeda",icon:"\uD83C\uDF19",priority:3}],bajón:[{key:"quickBites",title:"Baj\xf3n Nocturno",subtitle:"Antojos que llegan de madrugada",icon:"\uD83C\uDF19",priority:2},{key:"forYou",title:"Comfort Food",subtitle:"Para esas ganas de comer algo rico",icon:"\uD83E\uDD24",priority:3}]}[a]||[],{key:"nearYou",title:"Cerca de Ti",subtitle:"Entrega m\xe1s r\xe1pida",icon:"\uD83D\uDCCD",priority:5},{key:"newAndExciting",title:"Nuevo",subtitle:"Descubre sabores \xfanicos",icon:"✨",priority:6}].sort((a,b)=>a.priority-b.priority)}static getDishCounts(a){let b={All:a.length};return a.forEach(a=>{a.category&&(b[a.category]=(b[a.category]||0)+1)}),b}static async getDishRecommendations(a,b=12){try{let{collection:d,getDocs:e,query:f,orderBy:g,limit:h,where:i}=await Promise.resolve().then(c.bind(c,75535)),{db:j}=await Promise.resolve().then(c.bind(c,56525)),{doc:k,getDoc:l}=await Promise.resolve().then(c.bind(c,75535)),m=await l(k(j,"users",a)),n=m.exists()?m.data():null,o=f(d(j,"dishes"),i("isAvailable","==",!0),g("rating","desc"),h(2*b)),p=(await e(o)).docs.map(a=>({id:a.id,...a.data()})),q=[];for(let a of p.slice(0,b)){let b=20*(a.rating||0),c="similar",d=["Recomendado para ti"];n?.favoriteCategories?.includes(a.category)&&(b+=30,c="category",d=[`Te gusta la cocina ${a.category.toLowerCase()}`]),n?.favoriteCooks?.includes(a.cookerId)&&(b+=25,c="cook",d=["De uno de tus cocineros favoritos"]);let e=this.getTimeOfDay();this.getTimeBasedCategories(e).includes(a.category)&&(b+=15,d.push(`Perfecto para ${e}`)),a.reviewCount>20&&a.rating>=4.5&&(c="trending",d=["Muy popular esta semana"],b+=20),q.push({dishId:a.id,score:Math.min(b,100),matchType:c,reasons:d,confidence:b>80?.9:b>60?.8:.7})}return q.sort((a,b)=>b.score-a.score).slice(0,b)}catch(a){return console.error("Error getting dish recommendations:",a),[]}}static async getCookRecommendations(a,b=6){try{let{collection:d,getDocs:e,query:f,orderBy:g,limit:h,where:i}=await Promise.resolve().then(c.bind(c,75535)),{db:j}=await Promise.resolve().then(c.bind(c,56525)),{doc:k,getDoc:l}=await Promise.resolve().then(c.bind(c,75535)),m=await l(k(j,"users",a)),n=m.exists()?m.data():null,o=f(d(j,"cooks"),i("isActive","==",!0),g("rating","desc"),h(2*b)),p=(await e(o)).docs.map(a=>({id:a.id,...a.data()})),q=[];for(let a of p.slice(0,b)){let b=18*(a.rating||0),c="similar",d=["Recomendado para ti"];if(n?.favoriteCooks?.includes(a.id)&&(b+=35,c="cook",d=["Uno de tus cocineros favoritos"]),n?.favoriteCategories&&a.specialties){let e=a.specialties.filter(a=>n.favoriteCategories.includes(a));e.length>0&&(b+=25,c="category",d=[`Especialista en ${e[0].toLowerCase()}`])}a.rating>=4.7&&a.reviewCount>=20&&(b+=20,c="trending",d=["Cocinero muy valorado"]),a.settings?.selfDelivery&&n?.preferences?.selfDelivery&&(b+=10,d.push("Entrega directa disponible")),q.push({cookId:a.id,score:Math.min(b,100),matchType:c,reasons:d,confidence:b>80?.9:b>70?.8:.75})}return q.sort((a,b)=>b.score-a.score).slice(0,b)}catch(a){return console.error("Error getting cook recommendations:",a),[]}}static async getRecommendationInsights(a){try{let{collection:b,getDocs:d,query:e,where:f,orderBy:g,limit:h}=await Promise.resolve().then(c.bind(c,75535)),{db:i}=await Promise.resolve().then(c.bind(c,56525)),j=e(b(i,"orders"),f("userId","==",a),f("status","==","delivered"),g("createdAt","desc"),h(50)),k=(await d(j)).docs.map(a=>a.data());if(0===k.length)return{topCategories:[],topIngredients:[],averageOrderValue:0,preferredCooks:[],totalOrders:0,averageRating:0};let l={},m={},n=0,o=0,p=0;for(let a of k){if(n+=a.total||0,a.items)for(let b of a.items)b.category&&(l[b.category]=(l[b.category]||0)+1),b.cookerId&&(m[b.cookerId]=(m[b.cookerId]||0)+1);a.rating&&(p+=a.rating,o++)}let q=Object.entries(l).sort((a,b)=>b[1]-a[1]).slice(0,5).map(([a])=>a),r=Object.entries(m).sort((a,b)=>b[1]-a[1]).slice(0,3).map(([a])=>a);return{topCategories:q,topIngredients:[],averageOrderValue:k.length>0?Math.round(n/k.length):0,preferredCooks:r,totalOrders:k.length,averageRating:o>0?p/o:0}}catch(a){return console.error("Error getting recommendation insights:",a),{topCategories:[],topIngredients:[],averageOrderValue:0,preferredCooks:[],totalOrders:0,averageRating:0}}}}},86561:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},88059:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},94577:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]])}};