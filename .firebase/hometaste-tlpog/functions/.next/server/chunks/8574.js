"use strict";exports.id=8574,exports.ids=[8574],exports.modules={10753:(a,b,c)=>{c.d(b,{S:()=>f});var d=c(87675),e=c(68651);class f{static{this.searchHistory=[]}static{this.popularSearches={}}static async search(a){let b=Date.now();try{let c=await d.DishesService.getAllDishes();!1!==a.availability&&(c=c.filter(a=>a.isAvailable)),a.query&&(c=this.applyTextSearch(c,a.query),this.trackSearch(a.query)),a.category&&(c=c.filter(b=>b.category.toLowerCase()===a.category?.toLowerCase())),a.priceRange&&(c=c.filter(b=>b.price>=a.priceRange.min&&b.price<=a.priceRange.max)),a.rating&&(c=c.filter(b=>b.rating>=a.rating)),a.prepTime&&(c=this.applyPrepTimeFilter(c,a.prepTime)),a.dietary&&a.dietary.length>0&&(c=this.applyDietaryFilters(c,a.dietary)),a.allergens&&a.allergens.length>0&&(c=c.filter(b=>!b.allergens.some(b=>a.allergens.includes(b.toLowerCase())))),a.cookingStyle&&(c=await this.applyCookingStyleFilter(c,a.cookingStyle)),a.location&&(c=await this.applyLocationFilter(c,a.location,a.maxDistance)),c=this.calculateSearchScores(c,a),c=this.applySorting(c,a.sortBy||"relevance");let e=await this.generateFacets(c),f=this.generateSuggestions(a.query),g=Date.now()-b;return{dishes:c,totalResults:c.length,facets:e,suggestions:f,searchTime:g}}catch(a){return console.error("Search error:",a),{dishes:[],totalResults:0,facets:this.getEmptyFacets(),searchTime:Date.now()-b}}}static applyTextSearch(a,b){let c=b.toLowerCase().split(" ").filter(a=>a.length>1);return a.filter(a=>{let b=[a.name,a.description,a.category,...a.tags,...a.ingredients,a.cookerName].join(" ").toLowerCase();return c.some(a=>b.includes(a))})}static applyPrepTimeFilter(a,b){let c=parseInt(b);return a.filter(a=>{let d=parseInt(a.prepTime);return b.includes("60+")?d>=60:d<=c})}static applyDietaryFilters(a,b){return a.filter(a=>b.some(b=>a.tags.some(a=>a.toLowerCase().includes(b.toLowerCase()))||a.description.toLowerCase().includes(b.toLowerCase())))}static async applyCookingStyleFilter(a,b){try{let c=(await d.CooksService.getAllCooks()).filter(a=>a.cookingStyle?.toLowerCase()===b.toLowerCase()).map(a=>a.id);return a.filter(a=>c.includes(a.cookerId))}catch(b){return console.error("Error applying cooking style filter:",b),a}}static async applyLocationFilter(a,b,c=15){try{let d=await e.N.getNearbyCooks(b.latitude,b.longitude,c);return a.filter(a=>d.find(b=>b.id===a.cookerId)).map(a=>{let c=d.find(b=>b.id===a.cookerId),f=e.N.calculateDeliveryFee(b,c.location.coordinates);return{...a,distance:c?.distance,deliveryFee:f.totalFee,estimatedDeliveryTime:f.estimatedTime}})}catch(b){return console.error("Error applying location filter:",b),a}}static calculateSearchScores(a,b){return a.map(a=>{let c,d=[];if(c=0+10*a.rating+Math.min(.5*a.reviewCount,20),b.query){let e=b.query.toLowerCase();a.name.toLowerCase().includes(e)&&(c+=50,d.push("Nombre del plato")),a.description.toLowerCase().includes(e)&&(c+=30,d.push("Descripci\xf3n")),a.tags.some(a=>a.toLowerCase().includes(e))&&(c+=20,d.push("Categor\xeda"))}return b.category&&a.category.toLowerCase()===b.category.toLowerCase()&&(c+=25,d.push("Categor\xeda exacta")),a.rating>=4.5&&(c+=15,d.push("Muy bien valorado")),a.reviewCount>=20&&(c+=10,d.push("Muy popular")),{...a,score:c,matchReasons:d}})}static applySorting(a,b){switch(b){case"price_low":return a.sort((a,b)=>a.price-b.price);case"price_high":return a.sort((a,b)=>b.price-a.price);case"rating":return a.sort((a,b)=>b.rating-a.rating);case"prep_time":return a.sort((a,b)=>parseInt(a.prepTime)-parseInt(b.prepTime));case"distance":return a.sort((a,b)=>(a.distance||0)-(b.distance||0));default:return a.sort((a,b)=>(b.score||0)-(a.score||0))}}static async generateFacets(a){let b={};a.forEach(a=>{b[a.category]=(b[a.category]||0)+1}),a.map(a=>a.price);let c=this.generatePriceRanges(a),e={};a.forEach(a=>{let b=Math.floor(a.rating);e[b]=(e[b]||0)+1});let f={};try{let b=await d.CooksService.getAllCooks();a.forEach(a=>{let c=b.find(b=>b.id===a.cookerId);c?.cookingStyle&&(f[c.cookingStyle]=(f[c.cookingStyle]||0)+1)})}catch(a){console.error("Error generating cooking style facets:",a)}let g={},h=["vegetarian","vegan","gluten-free","keto","paleo"];a.forEach(a=>{let b=`${a.description} ${a.tags.join(" ")}`.toLowerCase();h.forEach(a=>{b.includes(a)&&(g[a]=(g[a]||0)+1)})});let i={};return a.forEach(a=>{let b=parseInt(a.prepTime),c="60+ min";b<=15?c="15 min":b<=30?c="30 min":b<=45&&(c="45 min"),i[c]=(i[c]||0)+1}),{categories:Object.entries(b).map(([a,b])=>({name:a,count:b})),priceRanges:c,ratings:Object.entries(e).map(([a,b])=>({rating:parseInt(a),count:b})),cookingStyles:Object.entries(f).map(([a,b])=>({style:a,count:b})),dietary:Object.entries(g).map(([a,b])=>({type:a,count:b})),prepTimes:Object.entries(i).map(([a,b])=>({time:a,count:b}))}}static generatePriceRanges(a){return[{range:"Hasta $5.000",min:0,max:5e3},{range:"$5.000 - $10.000",min:5e3,max:1e4},{range:"$10.000 - $15.000",min:1e4,max:15e3},{range:"$15.000 - $20.000",min:15e3,max:2e4},{range:"M\xe1s de $20.000",min:2e4,max:1/0}].map(b=>({...b,count:a.filter(a=>a.price>=b.min&&a.price<b.max).length})).filter(a=>a.count>0)}static generateSuggestions(a){let b=["pizza","empanadas","sushi","hamburguesa","pasta","ensalada","pollo","vegetariano","vegan","sin gluten","postre","comida casera"];return a?b.filter(b=>b.includes(a.toLowerCase())).slice(0,5):b.slice(0,5)}static trackSearch(a){this.searchHistory.unshift(a),this.searchHistory=this.searchHistory.slice(0,100),this.popularSearches[a]=(this.popularSearches[a]||0)+1}static getEmptyFacets(){return{categories:[],priceRanges:[],ratings:[],cookingStyles:[],dietary:[],prepTimes:[]}}static async getRecommendations(a){try{let b=await d.DishesService.getAllDishes();if(b=b.filter(a=>a.isAvailable),a.location){let c=await e.N.getDishesForLocation(a.location,15);b=c.length>0?c:b}let c=b.map(b=>{let c=0,d=[];if(c+=10*b.rating,c+=Math.min(.5*b.reviewCount,20),a.favoriteCategories?.includes(b.category)&&(c+=40,d.push(`Te gusta ${b.category}`)),a.dietaryPreferences){let e=`${b.description} ${b.tags.join(" ")}`.toLowerCase();a.dietaryPreferences.forEach(a=>{e.includes(a.toLowerCase())&&(c+=30,d.push(`Coincide con tu preferencia: ${a}`))})}return a.pricePreference&&("budget"===a.pricePreference&&b.price<=8e3?(c+=20,d.push("Precio econ\xf3mico")):"mid"===a.pricePreference&&b.price>8e3&&b.price<=15e3?(c+=20,d.push("Precio moderado")):"premium"===a.pricePreference&&b.price>15e3&&(c+=20,d.push("Opci\xf3n premium"))),b.rating>=4.5&&(c+=15,d.push("Muy bien valorado")),b.createdAt&&b.createdAt.toDate()>new Date(Date.now()-6048e5)&&(c+=10,d.push("Plato nuevo")),a.orderHistory?.includes(b.id)&&(c-=20),{...b,recommendationScore:c,recommendationReason:d[0]||"Recomendado para ti"}}).sort((a,b)=>b.recommendationScore-a.recommendationScore).slice(0,a.limit||10),f=Array.from(new Set(c.flatMap(a=>a.recommendationReason?[a.recommendationReason]:[])));return{dishes:c,reasons:f}}catch(a){return console.error("Error generating recommendations:",a),{dishes:[],reasons:[]}}}static async getSimilarDishes(a,b=6){try{let c=await d.DishesService.getAllDishes(),e=c.find(b=>b.id===a);if(!e)return[];return c.filter(b=>b.id!==a&&b.isAvailable).map(a=>{let b=0;a.category===e.category&&(b+=40);let c=a.tags.filter(a=>e.tags.includes(a)).length;b+=10*c,Math.abs(a.price-e.price)/e.price<=.3&&(b+=20),a.cookerId===e.cookerId&&(b+=30);let d=a.ingredients.filter(a=>e.ingredients.includes(a)).length;return b+=5*d,{...a,similarity:b}}).sort((a,b)=>b.similarity-a.similarity).slice(0,b)}catch(a){return console.error("Error getting similar dishes:",a),[]}}static async getTrendingDishes(a=10){try{return(await d.DishesService.getAllDishes()).filter(a=>a.isAvailable).map(a=>{let b;return b=0+2*a.reviewCount+10*a.rating,a.createdAt&&a.createdAt.toDate()>new Date(Date.now()-12096e5)&&(b+=50),{...a,trendScore:b}}).sort((a,b)=>b.trendScore-a.trendScore).slice(0,a)}catch(a){return console.error("Error getting trending dishes:",a),[]}}static async getPopularCategories(){try{let a=await d.DishesService.getAllDishes(),b={};return a.filter(a=>a.isAvailable).forEach(a=>{b[a.category]||(b[a.category]={count:0,totalRating:0}),b[a.category].count++,b[a.category].totalRating+=a.rating}),Object.entries(b).map(([a,b])=>({category:a,count:b.count,avgRating:b.totalRating/b.count})).sort((a,b)=>b.count-a.count)}catch(a){return console.error("Error getting popular categories:",a),[]}}static getSearchAnalytics(){return{recentSearches:this.searchHistory.slice(0,10),popularSearches:Object.entries(this.popularSearches).sort(([,a],[,b])=>b-a).slice(0,10).map(([a,b])=>({query:a,count:b}))}}}},39390:(a,b,c)=>{c.d(b,{J:()=>g});var d=c(60687);c(43210);var e=c(78148),f=c(96241);function g({className:a,...b}){return(0,d.jsx)(e.b,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}},58574:(a,b,c)=>{c.d(b,{n:()=>H});var d=c(60687),e=c(43210),f=c(16189),g=c(99270),h=c(80462),i=c(41862),j=c(48730),k=c(25541),l=c(64398),m=c(23928),n=c(97992),o=c(11860),p=c(24934),q=c(68988),r=c(55192),s=c(59821),t=c(24851),u=c(96241);let v=e.forwardRef(({className:a,...b},c)=>(0,d.jsxs)(t.bL,{ref:c,className:(0,u.cn)("relative flex w-full touch-none select-none items-center",a),...b,children:[(0,d.jsx)(t.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,d.jsx)(t.Q6,{className:"absolute h-full bg-primary"})}),(0,d.jsx)(t.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));v.displayName=t.bL.displayName;var w=c(40211),x=c(13964);let y=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(w.bL,{ref:c,className:(0,u.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...b,children:(0,d.jsx)(w.C1,{className:(0,u.cn)("flex items-center justify-center text-current"),children:(0,d.jsx)(x.A,{className:"h-4 w-4"})})}));y.displayName=w.bL.displayName;var z=c(39390),A=c(92241),B=c(63974),C=c(78377),D=c(10753);c(68651);var E=c(52581),F=c(20540),G=c.n(F);function H({onResultsChange:a,initialFilters:b={},compact:c=!1}){(0,f.useRouter)();let t=(0,f.useSearchParams)(),[w,x]=(0,e.useState)(b.query||t.get("q")||""),[F,H]=(0,e.useState)({query:b.query||t.get("q")||"",category:b.category||t.get("category")||void 0,priceRange:b.priceRange||{min:0,max:5e4},rating:b.rating||void 0,prepTime:b.prepTime||void 0,dietary:b.dietary||[],allergens:b.allergens||[],sortBy:b.sortBy||"relevance",availability:!0}),[I,J]=(0,e.useState)(null),[K,L]=(0,e.useState)(!1),[M,N]=(0,e.useState)(!1),[O,P]=(0,e.useState)([]),[Q]=(0,e.useState)(["pizza","empanadas","ensalada","pasta","hamburguesa","sushi","tacos","parrilla","vegano","postres"]),[R,S]=(0,e.useState)(null),[T,U]=(0,e.useState)(10),V=[{value:"vegetarian",label:"Vegetariano",icon:"\uD83E\uDD57"},{value:"vegan",label:"Vegano",icon:"\uD83C\uDF31"},{value:"gluten-free",label:"Sin Gluten",icon:"\uD83C\uDF3E"},{value:"keto",label:"Keto",icon:"\uD83E\uDD51"},{value:"paleo",label:"Paleo",icon:"\uD83E\uDD69"},{value:"low-carb",label:"Bajo en Carbohidratos",icon:"\uD83E\uDD66"},{value:"dairy-free",label:"Sin L\xe1cteos",icon:"\uD83E\uDD5B"},{value:"halal",label:"Halal",icon:"☪️"},{value:"kosher",label:"Kosher",icon:"✡️"}],W=["Nueces","Man\xed","L\xe1cteos","Huevos","Mariscos","Pescado","Soya","Gluten","S\xe9samo","Mostaza"],X=[{value:"all",label:"Todas",icon:"\uD83C\uDF7D️"},{value:"main",label:"Platos Principales",icon:"\uD83C\uDF56"},{value:"appetizer",label:"Entradas",icon:"\uD83E\uDD5F"},{value:"dessert",label:"Postres",icon:"\uD83C\uDF70"},{value:"beverage",label:"Bebidas",icon:"\uD83E\uDD64"},{value:"breakfast",label:"Desayuno",icon:"\uD83E\uDD5E"},{value:"lunch",label:"Almuerzo",icon:"\uD83E\uDD57"},{value:"dinner",label:"Cena",icon:"\uD83C\uDF5D"},{value:"snack",label:"Snacks",icon:"\uD83C\uDF7F"}],Y=[{value:"15",label:"< 15 min",icon:"⚡"},{value:"30",label:"< 30 min",icon:"\uD83D\uDD50"},{value:"45",label:"< 45 min",icon:"\uD83D\uDD51"},{value:"60",label:"< 1 hora",icon:"\uD83D\uDD52"},{value:"60+",label:"> 1 hora",icon:"\uD83D\uDD53"}];(0,e.useCallback)(G()(async b=>{L(!0);try{let c=await D.S.search(b);if(J(c),a?.(c),b.query&&b.query.trim()){let a=[b.query,...O.filter(a=>a!==b.query)].slice(0,5);P(a),localStorage.setItem("recentSearches",JSON.stringify(a))}}catch(a){console.error("Search error:",a),E.oR.error("Error al buscar. Por favor intenta nuevamente.")}finally{L(!1)}},500),[O,a]);let Z=a=>{x(a),H(b=>({...b,query:a}))},$=()=>{x(""),H({query:"",availability:!0,sortBy:"relevance",priceRange:{min:0,max:5e4}})},_=[F.category&&"all"!==F.category,F.rating,F.prepTime,F.dietary&&F.dietary.length>0,F.allergens&&F.allergens.length>0,F.priceRange&&(F.priceRange.min>0||F.priceRange.max<5e4)].filter(Boolean).length;if(c)return(0,d.jsxs)("div",{className:"relative w-full max-w-2xl",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),(0,d.jsx)(q.p,{type:"text",placeholder:"Buscar platos, cocineros, ingredientes...",value:w,onChange:a=>x(a.target.value),className:"pl-10 pr-24 h-12 text-base"}),(0,d.jsxs)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex gap-2",children:[(0,d.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:()=>N(!0),className:"relative",children:[(0,d.jsx)(h.A,{className:"h-4 w-4"}),_>0&&(0,d.jsx)(s.E,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center",children:_})]}),K&&(0,d.jsx)(i.A,{className:"h-4 w-4 animate-spin text-muted-foreground"})]})]}),!w&&(0,d.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-2 p-4 bg-background border rounded-lg shadow-lg z-10",children:[O.length>0&&(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"B\xfasquedas recientes"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:O.map(a=>(0,d.jsxs)(p.$,{variant:"outline",size:"sm",onClick:()=>Z(a),className:"text-xs",children:[(0,d.jsx)(j.A,{className:"h-3 w-3 mr-1"}),a]},a))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Tendencias"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:Q.slice(0,6).map(a=>(0,d.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:()=>Z(a),className:"text-xs",children:[(0,d.jsx)(k.A,{className:"h-3 w-3 mr-1 text-atacama-orange"}),a]},a))})]})]}),(0,d.jsx)(A.cj,{open:M,onOpenChange:N,children:(0,d.jsxs)(A.h,{className:"w-full sm:max-w-lg overflow-y-auto",children:[(0,d.jsxs)(A.Fm,{children:[(0,d.jsx)(A.qp,{children:"Filtros de B\xfasqueda"}),(0,d.jsx)(A.Qs,{children:"Refina tu b\xfasqueda con filtros avanzados"})]}),aa()]})})]});function aa(){return(0,d.jsxs)("div",{className:"space-y-6 mt-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(z.J,{children:"Ordenar por"}),(0,d.jsxs)(B.l6,{value:F.sortBy,onValueChange:a=>H(b=>({...b,sortBy:a})),children:[(0,d.jsx)(B.bq,{children:(0,d.jsx)(B.yv,{})}),(0,d.jsxs)(B.gC,{children:[(0,d.jsx)(B.eb,{value:"relevance",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Relevancia"]})}),(0,d.jsx)(B.eb,{value:"price_low",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Precio: Menor a Mayor"]})}),(0,d.jsx)(B.eb,{value:"price_high",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Precio: Mayor a Menor"]})}),(0,d.jsx)(B.eb,{value:"rating",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Mejor Calificaci\xf3n"]})}),(0,d.jsx)(B.eb,{value:"prep_time",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Tiempo de Preparaci\xf3n"]})}),R&&(0,d.jsx)(B.eb,{value:"distance",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"M\xe1s Cercano"]})})]})]})]}),(0,d.jsx)(C.w,{}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(z.J,{children:"Categor\xeda"}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-2",children:X.map(a=>(0,d.jsxs)(p.$,{variant:F.category===a.value?"default":"outline",size:"sm",onClick:()=>H(b=>({...b,category:"all"===a.value?void 0:a.value})),className:"justify-start",children:[(0,d.jsx)("span",{className:"mr-2",children:a.icon}),(0,d.jsx)("span",{className:"text-xs",children:a.label})]},a.value))})]}),(0,d.jsx)(C.w,{}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(z.J,{children:"Rango de Precio"}),(0,d.jsxs)("div",{className:"px-2",children:[(0,d.jsx)(v,{value:[F.priceRange?.min||0,F.priceRange?.max||5e4],onValueChange:([a,b])=>H(c=>({...c,priceRange:{min:a,max:b}})),max:5e4,step:1e3,className:"mb-2"}),(0,d.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,d.jsx)("span",{children:(0,u.$g)(F.priceRange?.min||0)}),(0,d.jsx)("span",{children:(0,u.$g)(F.priceRange?.max||5e4)})]})]})]}),(0,d.jsx)(C.w,{}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(z.J,{children:"Calificaci\xf3n M\xednima"}),(0,d.jsx)("div",{className:"flex gap-2",children:[4,3,2,1].map(a=>(0,d.jsxs)(p.$,{variant:F.rating===a?"default":"outline",size:"sm",onClick:()=>H(b=>({...b,rating:b.rating===a?void 0:a})),children:[(0,d.jsx)(l.A,{className:"h-3 w-3 mr-1 fill-yellow-400 text-yellow-400"}),a,"+"]},a))})]}),(0,d.jsx)(C.w,{}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(z.J,{children:"Tiempo de Preparaci\xf3n"}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Y.map(a=>(0,d.jsxs)(p.$,{variant:F.prepTime===a.value?"default":"outline",size:"sm",onClick:()=>H(b=>({...b,prepTime:b.prepTime===a.value?void 0:a.value})),className:"justify-start",children:[(0,d.jsx)("span",{className:"mr-2",children:a.icon}),(0,d.jsx)("span",{className:"text-xs",children:a.label})]},a.value))})]}),(0,d.jsx)(C.w,{}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(z.J,{children:"Preferencias Diet\xe9ticas"}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-2",children:V.map(a=>(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(y,{id:a.value,checked:F.dietary?.includes(a.value),onCheckedChange:b=>{H(c=>({...c,dietary:b?[...c.dietary||[],a.value]:c.dietary?.filter(b=>b!==a.value)||[]}))}}),(0,d.jsxs)(z.J,{htmlFor:a.value,className:"text-sm font-normal cursor-pointer",children:[(0,d.jsx)("span",{className:"mr-1",children:a.icon}),a.label]})]},a.value))})]}),(0,d.jsx)(C.w,{}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(z.J,{children:"Excluir Al\xe9rgenos"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:W.map(a=>(0,d.jsxs)(s.E,{variant:F.allergens?.includes(a)?"destructive":"outline",className:"cursor-pointer",onClick:()=>{H(b=>({...b,allergens:b.allergens?.includes(a)?b.allergens.filter(b=>b!==a):[...b.allergens||[],a]}))},children:[F.allergens?.includes(a)&&(0,d.jsx)(o.A,{className:"h-3 w-3 mr-1"}),a]},a))})]}),R&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(C.w,{}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(z.J,{children:"Distancia M\xe1xima"}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(n.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)(v,{value:[T],onValueChange:([a])=>{U(a),H(b=>({...b,maxDistance:a}))},max:30,min:1,step:1,className:"flex-1"}),(0,d.jsxs)("span",{className:"text-sm font-medium w-12",children:[T," km"]})]})]})]}),(0,d.jsx)(C.w,{}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(p.$,{variant:"outline",className:"flex-1",onClick:$,children:"Limpiar Filtros"}),(0,d.jsx)(p.$,{className:"flex-1 bg-atacama-orange hover:bg-atacama-orange/90",onClick:()=>N(!1),children:"Aplicar Filtros"})]})]})}return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(r.Zp,{children:[(0,d.jsx)(r.aR,{children:(0,d.jsx)(r.ZB,{children:"B\xfasqueda Avanzada"})}),(0,d.jsx)(r.Wu,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),(0,d.jsx)(q.p,{type:"text",placeholder:"Buscar platos, cocineros, ingredientes...",value:w,onChange:a=>x(a.target.value),className:"pl-10 pr-4 h-12 text-base"}),K&&(0,d.jsx)(i.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"Populares:"}),Q.map(a=>(0,d.jsx)(s.E,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/80",onClick:()=>Z(a),children:a},a))]})]})})]}),(0,d.jsxs)(r.Zp,{children:[(0,d.jsx)(r.aR,{children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)(r.ZB,{children:"Filtros"}),_>0&&(0,d.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:$,children:["Limpiar (",_,")"]})]})}),(0,d.jsx)(r.Wu,{children:aa()})]}),I&&(0,d.jsx)(r.Zp,{children:(0,d.jsx)(r.Wu,{className:"pt-6",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:[I.totalResults," resultado",1!==I.totalResults?"s":""," encontrado",1!==I.totalResults?"s":""," ","en ",I.searchTime,"ms"]}),I.suggestions&&I.suggestions.length>0&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"Sugerencias:"}),I.suggestions.map(a=>(0,d.jsx)(s.E,{variant:"outline",className:"cursor-pointer",onClick:()=>Z(a),children:a},a))]})]})})})]})}},63974:(a,b,c)=>{c.d(b,{bq:()=>m,eb:()=>q,gC:()=>p,l6:()=>k,yv:()=>l});var d=c(60687),e=c(43210),f=c(25911),g=c(78272),h=c(3589),i=c(13964),j=c(96241);let k=f.bL;f.YJ;let l=f.WT,m=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.l9,{ref:e,className:(0,j.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,d.jsx)(f.In,{asChild:!0,children:(0,d.jsx)(g.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=f.l9.displayName;let n=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.PP,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(h.A,{className:"h-4 w-4"})}));n.displayName=f.PP.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wn,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(g.A,{className:"h-4 w-4"})}));o.displayName=f.wn.displayName;let p=e.forwardRef(({className:a,children:b,position:c="popper",...e},g)=>(0,d.jsx)(f.ZL,{children:(0,d.jsxs)(f.UC,{ref:g,className:(0,j.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(n,{}),(0,d.jsx)(f.LM,{className:(0,j.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,d.jsx)(o,{})]})}));p.displayName=f.UC.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.JU,{ref:c,className:(0,j.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=f.JU.displayName;let q=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.q7,{ref:e,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.VF,{children:(0,d.jsx)(i.A,{className:"h-4 w-4"})})}),(0,d.jsx)(f.p4,{children:b})]}));q.displayName=f.q7.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wv,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=f.wv.displayName},78377:(a,b,c)=>{c.d(b,{w:()=>h});var d=c(60687),e=c(43210),f=c(62369),g=c(96241);let h=e.forwardRef(({className:a,orientation:b="horizontal",decorative:c=!0,...e},h)=>(0,d.jsx)(f.b,{ref:h,decorative:c,orientation:b,className:(0,g.cn)("shrink-0 bg-border","horizontal"===b?"h-[1px] w-full":"h-full w-[1px]",a),...e}));h.displayName=f.b.displayName}};