(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[399],{86388:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eh});var t=a(95155),l=a(12115),i=a(35695),r=a(25731),n=a(36515),o=a(46751),c=a(23015),d=a(51154);function m(e){let{src:s,alt:a,placeholder:i="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xNzUgMTI1SDE5NVYxNDVIMjE1VjE2NUgxOTVWMTg1SDE3NVYxNjVIMTU1VjE0NUgxNzVWMTI1WiIgZmlsbD0iIzlDQTNBRiIvPgo8L3N2Zz4K",className:r="",fallback:n,...o}=e,{ref:c,isVisible:m}=function(e){let[s,a]=l.useState(!1),[t,i]=l.useState(!1),r=l.useRef(null);return l.useEffect(()=>{let e=new IntersectionObserver(e=>{let[s]=e;s.isIntersecting&&!t&&(a(!0),i(!0))},{threshold:.1,rootMargin:"50px",...void 0});return r.current&&e.observe(r.current),()=>{r.current&&e.unobserve(r.current)}},[t,void 0]),{ref:r,isVisible:s,isLoaded:t}}(),[x,h]=l.useState(!0),[g,u]=l.useState(!1);return(0,t.jsx)("div",{ref:c,className:"relative overflow-hidden ".concat(r),children:m?g?n||(0,t.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Error al cargar imagen"})}):(0,t.jsxs)(t.Fragment,{children:[x&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,t.jsx)(d.A,{className:"h-6 w-6 animate-spin text-gray-400"})}),(0,t.jsx)("img",{src:s,alt:a,className:"w-full h-full object-cover transition-opacity duration-300 ".concat(x?"opacity-0":"opacity-100"," ").concat(r),onLoad:()=>{h(!1)},onError:()=>{h(!1),u(!0)},...o})]}):(0,t.jsx)("img",{src:i,alt:"",className:"w-full h-full object-cover ".concat(r),...o})})}var x=a(97168),h=a(88145),g=a(88482),u=a(53311),p=a(92138),j=a(55607),N=a(17951),v=a(51976),b=a(38564),f=a(14186),w=a(53999);let y={desayuno:{title:"Buenos d\xedas! \uD83C\uDF05",subtitle:"Comienza tu d\xeda con energ\xeda",gradient:"from-orange-400 via-pink-400 to-red-400",bgPattern:"bg-gradient-to-br from-orange-50 to-pink-50",emoji:"☀️",suggestion:"Desayunos nutritivos para arrancar el d\xeda"},almuerzo:{title:"\xa1Hora del almuerzo! \uD83C\uDF7D️",subtitle:"Recarga energ\xedas con sabores \xfanicos",gradient:"from-blue-400 via-purple-400 to-pink-400",bgPattern:"bg-gradient-to-br from-blue-50 to-purple-50",emoji:"\uD83C\uDF1E",suggestion:"Platos completos para el mediod\xeda"},cena:{title:"Buenas noches \uD83C\uDF19",subtitle:"Cena deliciosa para cerrar el d\xeda",gradient:"from-indigo-400 via-purple-400 to-pink-400",bgPattern:"bg-gradient-to-br from-indigo-50 to-purple-50",emoji:"\uD83C\uDF06",suggestion:"Cenas reconfortantes y sabrosas"},bajón:{title:"\xa1Hora del baj\xf3n! \uD83C\uDF1A",subtitle:"Antojos nocturnos, te entendemos",gradient:"from-purple-600 via-blue-600 to-indigo-600",bgPattern:"bg-gradient-to-br from-purple-100 to-blue-100",emoji:"\uD83C\uDF1F",suggestion:"Snacks y comidas para la madrugada"}};function I(e){let{featuredDishes:s,onDishClick:a,onFavoriteToggle:i,timeOfDay:r,user:n}=e,[o,c]=(0,l.useState)(0),[d,m]=(0,l.useState)(!1),I=y[r];(0,l.useEffect)(()=>{if(s.length>1){let e=setInterval(()=>{c(e=>(e+1)%Math.min(s.length,3))},5e3);return()=>clearInterval(e)}},[s.length]),(0,l.useEffect)(()=>{setTimeout(()=>m(!0),100)},[]);let M=s.slice(0,3),A=M[o];return A?(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl mb-8 ".concat(I.bgPattern," transition-all duration-1000 ").concat(d?"opacity-100 translate-y-0":"opacity-0 translate-y-8"),children:[(0,t.jsxs)("div",{className:"absolute inset-0 opacity-30",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-y-1"}),(0,t.jsx)("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white/10 rounded-full -translate-x-16 -translate-y-16"}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-24 h-24 bg-white/10 rounded-full translate-x-12 translate-y-12"})]}),(0,t.jsx)("div",{className:"relative z-10 p-8 lg:p-12",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-2xl animate-pulse",children:I.emoji}),(0,t.jsx)(h.E,{variant:"outline",className:"bg-white/80 backdrop-blur-sm border-white/20",children:new Date().toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsx)("h1",{className:"text-4xl lg:text-5xl font-bold bg-gradient-to-r ".concat(I.gradient," bg-clip-text text-transparent"),children:I.title}),(0,t.jsx)("p",{className:"text-lg text-gray-700 font-medium",children:I.subtitle}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:I.suggestion})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center bg-white/60 backdrop-blur-sm rounded-xl p-3",children:[(0,t.jsx)("div",{className:"text-xl font-bold text-gray-800",children:s.length}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Platos disponibles"})]}),(0,t.jsxs)("div",{className:"text-center bg-white/60 backdrop-blur-sm rounded-xl p-3",children:[(0,t.jsx)("div",{className:"text-xl font-bold text-gray-800",children:Math.round(s.reduce((e,s)=>e+s.rating,0)/s.length*10)/10}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Rating promedio"})]}),(0,t.jsxs)("div",{className:"text-center bg-white/60 backdrop-blur-sm rounded-xl p-3",children:[(0,t.jsxs)("div",{className:"text-xl font-bold text-gray-800",children:["~",Math.round(s.reduce((e,s)=>e+(parseInt(s.prepTime,10)||30),0)/s.length)," min"]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Tiempo promedio"})]})]}),!n&&(0,t.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-700 mb-3",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 inline mr-1"}),"Crea tu cuenta para desbloquear recomendaciones personalizadas"]}),(0,t.jsxs)(x.$,{className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700",onClick:()=>window.location.href="/login",children:["Comenzar mi experiencia culinaria",(0,t.jsx)(p.A,{className:"h-4 w-4 ml-2"})]})]})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)(g.Zp,{className:"overflow-hidden bg-white/90 backdrop-blur-sm border-white/20 shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:scale-105",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:A.image,alt:A.name,className:"w-full h-64 object-cover transition-transform duration-700 hover:scale-110",onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik00MCA0MEg2MFY2MEg0MFY0MFoiIGZpbGw9IiM5QjlCQTMiLz4KPC9zdmc+"}}),(0,t.jsxs)("div",{className:"absolute top-4 left-4 space-y-2",children:[(0,t.jsxs)(h.E,{className:"bg-red-500/90 text-white border-0 backdrop-blur-sm",children:[(0,t.jsx)(j.A,{className:"h-3 w-3 mr-1"}),"Trending"]}),A.rating>=4.5&&(0,t.jsxs)(h.E,{className:"bg-yellow-500/90 text-white border-0 backdrop-blur-sm",children:[(0,t.jsx)(N.A,{className:"h-3 w-3 mr-1"}),"Top Rated"]})]}),(0,t.jsx)(x.$,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 h-10 w-10 p-0 bg-white/80 hover:bg-white backdrop-blur-sm",onClick:()=>i(A.id),children:(0,t.jsx)(v.A,{className:"h-4 w-4 ".concat(A.isFavorite?"fill-red-500 text-red-500":"text-gray-600")})}),M.length>1&&(0,t.jsx)("div",{className:"absolute bottom-4 right-4 flex space-x-1",children:M.map((e,s)=>(0,t.jsx)("button",{onClick:()=>c(s),className:"w-2 h-2 rounded-full transition-all duration-300 ".concat(s===o?"bg-white w-6":"bg-white/60")},s))})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:A.name}),(0,t.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2",children:A.description})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 fill-yellow-400 text-yellow-400 mr-1"}),(0,t.jsx)("span",{className:"font-medium",children:A.rating})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{children:A.prepTime})]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(0,w.$g)(A.price)})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)("img",{src:A.cookerAvatar,alt:A.cookerName,className:"w-6 h-6 rounded-full",onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNSAxNUMzMC41MjI5IDE1IDM1IDEwLjUyMjkgMzUgNUMzNSAyLjc5MDg2IDMzLjIwOTEgMSAzMSAxSDIwQzE3LjI5MDkgMSAxNS40NjA5IDIuNzkwODYgMTUgNUMxNSAxMC41MjI5IDE5LjQ3NzEgMTUgMjUgMTVaIiBmaWxsPSIjOUI5QkEzIi8+CjxwYXRoIGQ9Ik0xMCAzNUMxMCAyNi43MTU3IDE2LjcxNTcgMjAgMjUgMjBDMzMuMjg0MyAyMCA0MCAyNi43MTU3IDQwIDM1VjQ1SDBWMzVaIiBmaWxsPSIjOUI5QkEzIi8+Cjwvc3ZnPgo="}}),(0,t.jsx)("span",{className:"text-gray-600",children:"por"}),(0,t.jsx)("span",{className:"font-medium text-gray-800",children:A.cookerName}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b.A,{className:"h-3 w-3 fill-yellow-400 text-yellow-400 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:A.cookerRating})]})]}),(0,t.jsxs)(x.$,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>a(A.id),children:[n?"Ver detalles y pedir":"Crear cuenta para pedir",(0,t.jsx)(p.A,{className:"h-4 w-4 ml-2"})]})]})})]})})]})})]}):(0,t.jsx)("div",{className:"relative overflow-hidden ".concat(I.bgPattern," rounded-2xl mb-8 p-8"),children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-300 rounded w-64 mx-auto mb-4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-48 mx-auto"})]})})})}var M=a(69663),A=a(33384),k=a(69037),C=a(81284),D=a(17580),z=a(92657),S=a(50744),E=a(29799),T=a(27809),L=a(33109),P=a(71539);class U{static calculateBadges(e,s){let a=(null==s?void 0:s.maxBadges)||3,t=this.badgeDefinitions.filter(s=>s.condition(e)).sort((e,s)=>e.priority-s.priority);if((null==s?void 0:s.isFromRecommendation)&&(null==s?void 0:s.recommendationType)){let e=this.getRecommendationBadge(s.recommendationType);e&&t.unshift(e)}return this.applyDisplayLogic(t,a)}static applyDisplayLogic(e,s){let a=[],t=e.find(e=>"new"===e.id);t&&a.push(t);let l=e.filter(e=>"new"!==e.id),i=l.some(e=>"top_rated"===e.id)?l.filter(e=>"popular"!==e.id):l,r=s-a.length;return a.push(...i.slice(0,r)),a}static getRecommendationBadge(e){return({trending:{id:"rec_trending",label:"En Tendencia",icon:L.A,color:"bg-orange-500/90",priority:0,condition:()=>!0},featured:{id:"rec_featured",label:"Destacado",icon:b.A,color:"bg-indigo-500/90",priority:0,condition:()=>!0}})[e]||null}static getBadgeStats(e){let s={};return e.forEach(e=>{this.calculateBadges(e).forEach(e=>{s[e.id]=(s[e.id]||0)+1})}),s}static filterByBadge(e,s){return e.filter(e=>this.calculateBadges(e).some(e=>e.id===s))}static getBadgeConfig(e){return this.badgeDefinitions.find(s=>s.id===e)}static getAllBadgeTypes(){return[...this.badgeDefinitions]}}function Z(e){var s,a;let{dish:i,onDishClick:r,onFavoriteToggle:n,user:o,size:c="medium",showNutrition:d=!1,hasDiscount:m=!1,discountPercentage:p=0,popularityScore:j=0,recommendationContext:N}=e,[y,I]=(0,l.useState)(!1),[L,P]=(0,l.useState)(!1),[Z,R]=(0,l.useState)(!1),B=U.calculateBadges(i,{isFromRecommendation:(null==N?void 0:N.isFromRecommendation)||!1,recommendationType:null==N?void 0:N.recommendationType,maxBadges:3}),Q=(null==(s=i.tags)?void 0:s.includes("saludable"))||(null==(a=i.tags)?void 0:a.includes("healthy"))?Math.floor(20*Math.random())+80:Math.floor(30*Math.random())+50,G=(()=>{var e,s,a,t,l,r;let n=[];return((null==(e=i.tags)?void 0:e.includes("vegano"))||(null==(s=i.tags)?void 0:s.includes("vegan")))&&n.push({text:"Vegano",icon:A.A,color:"bg-green-500"}),((null==(a=i.tags)?void 0:a.includes("saludable"))||(null==(t=i.tags)?void 0:t.includes("healthy")))&&n.push({text:"Saludable",icon:u.A,color:"bg-blue-500"}),((null==(l=i.tags)?void 0:l.includes("sin gluten"))||(null==(r=i.tags)?void 0:r.includes("gluten-free")))&&n.push({text:"Sin Gluten",icon:k.A,color:"bg-purple-500"}),n})(),W=m?Math.round(i.price/(1-p/100)):i.price,F=W-i.price;return(0,t.jsxs)(g.Zp,{className:"".concat({small:"w-full max-w-sm",medium:"w-full",large:"w-full",featured:"w-full col-span-2 row-span-2"}[c]," overflow-hidden transition-all duration-500 cursor-pointer group hover:shadow-2xl hover:scale-105 ").concat(y?"z-10":"z-0"," ").concat("featured"===c?"shadow-xl border-2 border-purple-200":"shadow-md"),onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),onClick:()=>r(i.id),children:[(0,t.jsxs)("div",{className:"relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"".concat({small:"h-48",medium:"h-56",large:"h-64",featured:"h-80"}[c]," relative overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200"),children:[(0,t.jsx)("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover transition-transform duration-700 ".concat(y?"scale-110":"scale-100"," ").concat(Z?"opacity-100":"opacity-0"),onLoad:()=>R(!0),onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik00MCA0MEg2MFY2MEg0MFY0MFoiIGZpbGw9IiM5QjlCQTMiLz4KPC9zdmc+",R(!0)}}),!Z&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-pulse"}),(0,t.jsx)("div",{className:"absolute top-3 left-3 flex flex-col space-y-2",children:B.map(e=>{let s=e.icon;return(0,t.jsxs)(h.E,{className:"".concat(e.color," text-white border-0 backdrop-blur-sm shadow-lg ").concat(e.animated?"animate-pulse":""),children:[(0,t.jsx)(s,{className:"h-3 w-3 mr-1"}),e.label]},e.id)})}),(0,t.jsxs)("div",{className:"absolute top-3 right-3 flex flex-col space-y-2",children:[(0,t.jsx)(x.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-white/80 hover:bg-white backdrop-blur-sm shadow-lg",onClick:e=>{e.stopPropagation(),n(i.id)},children:(0,t.jsx)(v.A,{className:"h-4 w-4 transition-colors ".concat(i.isFavorite?"fill-red-500 text-red-500":"text-gray-600")})}),d&&(0,t.jsx)(x.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-white/80 hover:bg-white backdrop-blur-sm shadow-lg",onClick:e=>{e.stopPropagation(),P(!L)},children:(0,t.jsx)(C.A,{className:"h-4 w-4 text-gray-600"})})]}),m&&(0,t.jsx)("div",{className:"absolute top-3 right-3 left-3 flex justify-center",children:(0,t.jsxs)(h.E,{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white border-0 shadow-lg transform -rotate-3 animate-bounce",children:["-",p,"% OFF"]})}),(0,t.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,t.jsx)(h.E,{variant:i.isAvailable?"default":"secondary",className:"shadow-lg backdrop-blur-sm",children:i.isAvailable?"Disponible":"Agotado"})}),j>0&&(0,t.jsx)("div",{className:"absolute bottom-3 right-3",children:(0,t.jsxs)(h.E,{className:"bg-orange-500/90 text-white border-0 backdrop-blur-sm shadow-lg",children:[(0,t.jsx)(D.A,{className:"h-3 w-3 mr-1"}),j," pedidos hoy"]})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent transition-opacity duration-300 ".concat(y?"opacity-100":"opacity-0"),children:(0,t.jsx)("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-white text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Ver detalles"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,t.jsx)("span",{children:i.rating}),(0,t.jsxs)("span",{className:"text-gray-300",children:["(",i.reviewCount,")"]})]})]})})})]}),L&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-sm p-4 flex flex-col justify-center text-center",children:[(0,t.jsx)("h4",{className:"font-bold mb-3 text-gray-800",children:"Informaci\xf3n Nutricional"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Score nutricional:"}),(0,t.jsxs)("span",{className:"font-bold ".concat(Q>=80?"text-green-600":Q>=60?"text-yellow-600":"text-red-600"),children:[Q,"/100"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Calor\xedas aprox:"}),(0,t.jsxs)("span",{children:[i.calories||Math.floor(400*Math.random())+200," cal"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Tiempo prep:"}),(0,t.jsx)("span",{children:i.prepTime})]}),G.length>0&&(0,t.jsx)("div",{className:"pt-2 border-t",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1 justify-center",children:G.map((e,s)=>{let a=e.icon;return(0,t.jsxs)(h.E,{className:"".concat(e.color," text-white text-xs"),children:[(0,t.jsx)(a,{className:"h-3 w-3 mr-1"}),e.text]},s)})})})]})]})]}),(0,t.jsx)(g.Wu,{className:"p-4 ".concat("featured"===c?"p-6":""),children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 line-clamp-1 ".concat("featured"===c?"text-xl":"text-lg"),children:i.name}),(0,t.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mt-1",children:i.description})]}),(0,t.jsx)("div",{className:"ml-3 text-right flex-shrink-0",children:m?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 line-through",children:(0,w.$g)(W)}),(0,t.jsx)("div",{className:"font-bold text-red-600 ".concat("featured"===c?"text-xl":"text-lg"),children:(0,w.$g)(i.price)}),(0,t.jsxs)("div",{className:"text-xs text-green-600",children:["Ahorra ",(0,w.$g)(F)]})]}):(0,t.jsx)("div",{className:"font-bold text-gray-900 ".concat("featured"===c?"text-xl":"text-lg"),children:(0,w.$g)(i.price)})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsxs)(M.eu,{className:"h-6 w-6",children:[(0,t.jsx)(M.BK,{src:i.cookerAvatar}),(0,t.jsx)(M.q5,{children:(0,t.jsx)(S.A,{className:"h-3 w-3"})})]}),(0,t.jsx)("span",{className:"text-gray-600",children:"por"}),(0,t.jsx)("span",{className:"font-medium text-gray-800 truncate",children:i.cookerName}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b.A,{className:"h-3 w-3 fill-yellow-400 text-yellow-400 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:i.cookerRating})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 fill-yellow-400 text-yellow-400 mr-1"}),(0,t.jsx)("span",{className:"font-medium",children:i.rating}),(0,t.jsxs)("span",{className:"text-gray-400 ml-1",children:["(",i.reviewCount,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{children:i.prepTime})]})]}),i.cookerSelfDelivery&&(0,t.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,t.jsx)(E.A,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Entrega directa"})]})]}),G.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:G.map((e,s)=>{let a=e.icon;return(0,t.jsxs)(h.E,{variant:"outline",className:"text-xs",children:[(0,t.jsx)(a,{className:"h-3 w-3 mr-1"}),e.text]},s)})}),(0,t.jsxs)(x.$,{className:"w-full transition-all duration-300 ".concat(!i.isAvailable?"opacity-50 cursor-not-allowed":"hover:shadow-lg"," ").concat("featured"===c?"h-12 text-lg":""),disabled:!i.isAvailable,onClick:e=>{e.stopPropagation(),r(i.id)},children:[(0,t.jsx)(T.A,{className:"h-4 w-4 mr-2"}),i.isAvailable?o?"Agregar al carrito":"Crear cuenta para pedir":"No disponible"]})]})})]})}U.badgeDefinitions=[{id:"new",label:"Nuevo",icon:P.A,color:"bg-green-500/90",priority:1,animated:!0,condition:e=>!!e.createdAt&&(new Date().getTime()-e.createdAt.toDate().getTime())/864e5<=7},{id:"trending",label:"Trending",icon:L.A,color:"bg-red-500/90",priority:2,condition:e=>{let s=e.rating>=4.3&&e.reviewCount>=15,a=e.reviewCount>=10,t=!!e.createdAt&&(new Date().getTime()-e.createdAt.toDate().getTime())/864e5<=30;return s&&(a||t)}},{id:"popular",label:"Popular",icon:j.A,color:"bg-purple-500/90",priority:3,condition:e=>e.rating>=4.5&&e.reviewCount>=25},{id:"top_rated",label:"Top Rated",icon:N.A,color:"bg-yellow-500/90",priority:4,condition:e=>e.rating>=4.8},{id:"premium",label:"Premium",icon:k.A,color:"bg-gradient-to-r from-purple-500 to-pink-500",priority:5,condition:e=>e.price>15e3&&e.rating>=4.5},{id:"quick",label:"R\xe1pido",icon:f.A,color:"bg-blue-500/90",priority:6,condition:e=>("string"==typeof e.prepTime?parseInt(e.prepTime.replace(/\\D/g,"")):e.prepTime)<=20},{id:"direct_delivery",label:"Entrega Directa",icon:E.A,color:"bg-green-600/90",priority:7,condition:e=>!0===e.cookerSelfDelivery},{id:"healthy",label:"Saludable",icon:A.A,color:"bg-emerald-500/90",priority:8,condition:e=>{var s;return(null==(s=e.tags)?void 0:s.some(e=>["saludable","healthy","vegano","vegan","sin gluten","gluten-free"].includes(e.toLowerCase())))||"Saludable"===e.category}}];var R=a(95747),B=a(62530),Q=a(66635),G=a(12018),W=a(84913),F=a(21688),H=a(94681),$=a(72024),Y=a(94454),O=a(67312),V=a(13260),J=a(83454),X=a(37873),K=a(42355),_=a(13052);let q={All:R.A,Italiana:B.A,Mexicana:Q.A,Japonesa:G.A,India:Q.A,Americana:W.A,Francesa:F.A,China:Q.A,Tailandesa:Q.A,Mediterránea:H.A,Vegana:$.A,Saludable:H.A,Acompañamientos:Y.A,"Para Tomar":O.A,Postres:V.A,Desayuno:O.A,Almuerzo:J.A,Cena:X.A},ee={All:"from-purple-500 to-pink-500",Italiana:"from-green-500 to-red-500",Mexicana:"from-orange-500 to-red-500",Japonesa:"from-pink-500 to-purple-500",India:"from-yellow-500 to-orange-500",Americana:"from-blue-500 to-red-500",Francesa:"from-blue-500 to-purple-500",China:"from-red-500 to-yellow-500",Tailandesa:"from-green-500 to-teal-500",Mediterránea:"from-blue-500 to-green-500",Vegana:"from-green-500 to-lime-500",Saludable:"from-green-400 to-blue-400",Acompañamientos:"from-orange-400 to-yellow-400","Para Tomar":"from-purple-400 to-pink-400",Postres:"from-pink-400 to-purple-400",Desayuno:"from-orange-400 to-yellow-400",Almuerzo:"from-blue-400 to-green-400",Cena:"from-purple-400 to-indigo-400"},es={All:"Todos los platos disponibles",Italiana:"Pasta, pizza y sabores aut\xe9nticos",Mexicana:"Tacos, burritos y comida picante",Japonesa:"Sushi, ramen y cocina oriental",India:"Curry, especias y sabores ex\xf3ticos",Americana:"Hamburguesas, wings y cl\xe1sicos",Francesa:"Elegancia y t\xe9cnica culinaria",China:"Wok, dim sum y tradici\xf3n",Tailandesa:"Pad thai y sabores asi\xe1ticos",Mediterránea:"Aceite de oliva y pescado fresco",Vegana:"Sin productos de origen animal",Saludable:"Nutritivo y delicioso",Acompañamientos:"Guarniciones perfectas","Para Tomar":"Bebidas y refrescos"};function ea(e){let{selectedCategory:s,onCategorySelect:a,dishCounts:i}=e,r=(0,l.useRef)(null),[n,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!0),[m,u]=(0,l.useState)(!1),p=Object.keys(i).map(e=>{let s=q[e]||R.A,a=ee[e]||"from-gray-400 to-gray-600",t=es[e]||"Deliciosos platos",l=i[e]||0;return{id:e,name:e,icon:s,gradient:a,description:t,count:l,isPopular:l>10}}),j=()=>{if(r.current){let{scrollLeft:e,scrollWidth:s,clientWidth:a}=r.current;o(e>0),d(e<s-a-1)}};(0,l.useEffect)(()=>{j();let e=r.current;if(e)return e.addEventListener("scroll",j),()=>e.removeEventListener("scroll",j)},[p]);let N=e=>{if(m)return;u(!0);let s=r.current;if(s){let a="left"===e?s.scrollLeft-300:s.scrollLeft+300;s.scrollTo({left:a,behavior:"smooth"}),setTimeout(()=>{u(!1),j()},300)}};return(0,t.jsxs)("div",{className:"relative mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Explora por Categor\xedas"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Descubre sabores de todo el mundo \uD83C\uDF0D"})]}),(0,t.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>N("left"),disabled:!n||m,className:"h-10 w-10 p-0",children:(0,t.jsx)(K.A,{className:"h-4 w-4"})}),(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>N("right"),disabled:!c||m,className:"h-10 w-10 p-0",children:(0,t.jsx)(_.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{ref:r,className:"flex gap-4 overflow-x-auto scrollbar-hide pb-4 scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[p.map(e=>{let l=e.icon,i=s===e.id;return(0,t.jsx)(g.Zp,{className:"flex-shrink-0 w-48 cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-105 ".concat(i?"ring-2 ring-purple-500 shadow-xl scale-105":"shadow-md hover:shadow-lg"),onClick:()=>a(e.id),children:(0,t.jsxs)(g.Wu,{className:"p-0",children:[(0,t.jsxs)("div",{className:"h-24 bg-gradient-to-br ".concat(e.gradient," relative overflow-hidden flex items-center justify-center"),children:[(0,t.jsxs)("div",{className:"absolute inset-0 opacity-20",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 bg-white/20 rounded-full -translate-x-8 -translate-y-8"}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-12 h-12 bg-white/20 rounded-full translate-x-6 translate-y-6"})]}),(0,t.jsx)("div",{className:"relative z-10",children:(0,t.jsx)(l,{className:"h-8 w-8 text-white drop-shadow-lg"})}),e.isPopular&&(0,t.jsx)(h.E,{className:"absolute top-2 right-2 bg-yellow-400 text-yellow-900 text-xs border-0",children:"Popular"}),i&&(0,t.jsx)("div",{className:"absolute inset-0 bg-white/20 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full"})})})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-1 ".concat(i?"text-purple-600":"text-gray-900"),children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(h.E,{variant:"outline",className:"text-xs",children:[e.count," platos"]}),i&&(0,t.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"})]})]})]})},e.id)}),(0,t.jsx)("div",{className:"flex-shrink-0 w-4"})]}),n&&(0,t.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-white to-transparent pointer-events-none z-10"}),c&&(0,t.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-white to-transparent pointer-events-none z-10"})]}),(0,t.jsx)("div",{className:"md:hidden text-center mt-4",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"\uD83D\uDC48 Desliza para ver m\xe1s categor\xedas \uD83D\uDC49"})}),"All"!==s&&(0,t.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br ".concat(ee[s]||"from-gray-400 to-gray-600"," rounded-full flex items-center justify-center"),children:(()=>{let e=q[s]||R.A;return(0,t.jsx)(e,{className:"h-5 w-5 text-white"})})()}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-purple-900",children:["Explorando: ",s]}),(0,t.jsxs)("p",{className:"text-sm text-purple-700",children:[es[s]||"Deliciosos platos"," • ",i[s]||0," opciones disponibles"]})]})]})})]})}var et=a(86959),el=a(4516),ei=a(53904),er=a(34835),en=a(47924),eo=a(70257),ec=a(54653),ed=a(15968),em=a(89852),ex=a(98199);let eh=()=>{let e=(0,i.useRouter)(),{user:s,logout:a}=(0,r.A)(),{itemCount:p}=(0,n._)(),[j,N]=(0,l.useState)([]),[y,A]=(0,l.useState)(!0),[k,C]=(0,l.useState)(""),[D,z]=(0,l.useState)("All"),[P,U]=(0,l.useState)("rating"),[B,Q]=(0,l.useState)("grid"),[G,W]=(0,l.useState)(!1),[F,H]=(0,l.useState)([]),[$,Y]=(0,l.useState)(!1),[O,V]=(0,l.useState)(null),[J,X]=(0,l.useState)(!1),[K,_]=(0,l.useState)("almuerzo"),[q,ee]=(0,l.useState)(null),[es,eh]=(0,l.useState)({}),[eg,eu]=(0,l.useState)(!1),[ep,ej]=(0,l.useState)(""),[eN,ev]=(0,l.useState)([]),[eb,ef]=(0,l.useState)(!1),ew=(0,l.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{let s;if(e?Y(!0):A(!0),console.log("Fetching dishes..."),ep&&eb?(console.log("Fetching dishes for city:",ep),s={data:(await ex.N.getDishesForChileanCity(ep)).map(e=>({...e,cookerName:e.cookerName||"Cocinero Local",cookerAvatar:e.cookerAvatar||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNSAxNUMzMC41MjI5IDE1IDM1IDEwLjUyMjkgMzUgNUMzNSAyLjc5MDg2IDMzLjIwOTEgMSAzMSAxSDIwQzE3LjI5MDkgMSAxNS40NjA5IDIuNzkwODYgMTUgNUMxNSAxMC41MjI5IDE5LjQ3NzEgMTUgMjUgMTVaIiBmaWxsPSIjOUI5QkEzIi8+CjxwYXRoIGQ9Ik0xMCAzNUMxMCAyNi43MTU3IDE2LjcxNTcgMjAgMjUgMjBDMzMuMjg0MyAyMCA0MCAyNi43MTU3IDQwIDM1VjQ1SDBWMzVaIiBmaWxsPSIjOUI5QkEzIi8+Cjwvc3ZnPgo=",cookerRating:e.cookerRating||4,distance:e.cookDistance?"".concat(e.cookDistance.toFixed(1)," km"):"Cerca",cookerSelfDelivery:!1,isFavorite:F.includes(e.id)})),hasMore:!1}):s=await c.VK.getDishes({pageSize:20,useCache:!e}),ep&&eb){let e=s.data.map(e=>({...e,cookerSelfDelivery:!1}));N(e)}else{let e=await o.CooksService.getAllCooks(),a=new Map(e.map(e=>[e.id,e]));console.log("Number of cooks found:",e.length);let t=s.data.map(e=>{var s;let t=a.get(e.cookerId);return{...e,cookerName:(null==t?void 0:t.displayName)||"Cocinero Desconocido",cookerAvatar:(null==t?void 0:t.avatar)||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNSAxNUMzMC41MjI5IDE1IDM1IDEwLjUyMjkgMzUgNUMzNSAyLjc5MDg2IDMzLjIwOTEgMSAzMSAxSDIwQzE3LjI5MDkgMSAxNS40NjA5IDIuNzkwODYgMTUgNUMxNSAxMC41MjI5IDE5LjQ3NzEgMTUgMjUgMTVaIiBmaWxsPSIjOUI5QkEzIi8+CjxwYXRoIGQ9Ik0xMCAzNUMxMCAyNi43MTU3IDE2LjcxNTcgMjAgMjUgMjBDMzMuMjg0MyAyMCA0MCAyNi43MTU3IDQwIDM1VjQ1SDBWMzVaIiBmaWxsPSIjOUI5QkEzIi8+Cjwvc3ZnPgo=",cookerRating:(null==t?void 0:t.rating)||4,distance:"Cerca",cookerSelfDelivery:(null==t||null==(s=t.settings)?void 0:s.selfDelivery)||!1,isFavorite:F.includes(e.id)}});N(t)}X(s.hasMore),V(new Date),console.log("Loaded ".concat(s.data.length," dishes"))}catch(e){console.error("Error fetching dishes:",e instanceof Error?e.message:String(e));try{console.log("Attempting fallback to regular DishesService...");let e=await o.DishesService.getAllDishes(),s=await o.CooksService.getAllCooks(),a=new Map(s.map(e=>[e.id,e]));console.log("Fallback dishes found:",e.length);let t=e.map(e=>{var s;let t=a.get(e.cookerId);return{...e,cookerName:(null==t?void 0:t.displayName)||"Cocinero Desconocido",cookerAvatar:(null==t?void 0:t.avatar)||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNSAxNUMzMC41MjI5IDE1IDM1IDEwLjUyMjkgMzUgNUMzNSAyLjc5MDg2IDMzLjIwOTEgMSAzMSAxSDIwQzE3LjI5MDkgMSAxNS40NjA5IDIuNzkwODYgMTUgNUMxNSAxMC41MjI5IDE5LjQ3NzEgMTUgMjUgMTVaIiBmaWxsPSIjOUI5QkEzIi8+CjxwYXRoIGQ9Olk9IDM1QzEwIDI2LjcxNTcgMTYuNzE1NyAyMCAyNSAyMEMzMy4yODQzIDIwIDQwIDI2LjcxNTcgNDAgMzVWNDVIMFYzNVoiIGZpbGw9IiM5QjlCQTMiLz4KPC9zdmc+",cookerRating:(null==t?void 0:t.rating)||4,distance:"Cerca",cookerSelfDelivery:(null==t||null==(s=t.settings)?void 0:s.selfDelivery)||!1,isFavorite:F.includes(e.id)}});N(t),X(!1),V(new Date),console.log("Fallback loaded ".concat(t.length," dishes"))}catch(e){console.error("Fallback also failed:",e instanceof Error?e.message:String(e))}}finally{A(!1),Y(!1)}},[ep,eb,20,F]);(0,l.useEffect)(()=>{_(et.h.getTimeOfDay()),ew()},[ew]),(0,l.useEffect)(()=>{if(j.length>0){let e={timeOfDay:K,userPreferences:(null==s?void 0:s.preferences)||[],location:null==s?void 0:s.location,previousOrders:(null==s?void 0:s.orderHistory)||[]};ee(et.h.generateRecommendations(j,e)),eh(et.h.getDishCounts(j))}},[j,K,s]),(0,l.useEffect)(()=>{let e=()=>{ew()};window.addEventListener("focus",e);let s=setInterval(()=>{y||$||ew(!0)},12e4);return()=>{window.removeEventListener("focus",e),clearInterval(s)}},[y,$,ew]);let ey=async()=>{!y&&J&&(A(!0),await ew(!1),A(!1))},eI=()=>{ew(!0)},eM=j.filter(e=>{let s=e.name.toLowerCase().includes(k.toLowerCase())||e.description.toLowerCase().includes(k.toLowerCase())||e.cookerName.toLowerCase().includes(k.toLowerCase())||e.ingredients&&e.ingredients.some(e=>e.toLowerCase().includes(k.toLowerCase())),a="All"===D||e.category===D;return s&&a}).sort((e,s)=>{switch(P){case"rating":return s.rating-e.rating;case"price-low":return e.price-s.price;case"price-high":return s.price-e.price;case"distance":return parseFloat(e.distance)-parseFloat(s.distance);case"time":return parseInt(e.prepTime.toString())-parseInt(s.prepTime.toString());default:return 0}}),eA=a=>{if(!s)return void e.push("/login?returnUrl=/dishes&action=favorite&dishId=".concat(a));H(F.includes(a)?F.filter(e=>e!==a):[...F,a]),N(j.map(e=>e.id===a?{...e,isFavorite:!e.isFavorite}:e))},ek=(a,t)=>{if(t&&t.stopPropagation(),!s)return void e.push("/login?returnUrl=/dishes/".concat(a));e.push("/dishes/".concat(a))},eC=a=>{let{dish:l,isListView:i=!1}=a;return(0,t.jsxs)(g.Zp,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 cursor-pointer ".concat(!l.isAvailable?"opacity-60":""," ").concat(i?"flex":""," border-0 shadow-sm hover:shadow-xl hover:scale-[1.02]"),onClick:()=>ek(l.id),children:[(0,t.jsxs)("div",{className:"relative ".concat(i?"w-48 flex-shrink-0":"aspect-[4/3]"),children:[(0,t.jsx)(m,{src:l.image,alt:l.name,className:"w-full h-full object-cover",fallback:(0,t.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Error al cargar imagen"})})}),(0,t.jsx)("div",{className:"absolute top-2 right-2 flex gap-2",children:(0,t.jsx)(x.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-white/80 hover:bg-white",onClick:e=>{e.stopPropagation(),eA(l.id)},children:(0,t.jsx)(v.A,{className:"h-4 w-4 ".concat(l.isFavorite?"fill-red-500 text-red-500":"text-gray-600")})})}),(0,t.jsx)("div",{className:"absolute top-2 left-2",children:(0,t.jsx)(h.E,{variant:l.isAvailable?"default":"secondary",children:l.isAvailable?"Disponible":"Agotado"})})]}),(0,t.jsxs)(g.Wu,{className:"p-4 ".concat(i?"flex-1":""),children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg line-clamp-1",children:l.name}),(0,t.jsx)("span",{className:"text-xl font-bold text-primary",children:(0,w.$g)(l.price)})]}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm mb-3 line-clamp-2",children:l.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsxs)(M.eu,{className:"h-6 w-6",children:[(0,t.jsx)(M.BK,{src:l.cookerAvatar}),(0,t.jsx)(M.q5,{children:(0,t.jsx)(S.A,{className:"h-3 w-3"})})]}),(0,t.jsx)("button",{className:"text-sm text-muted-foreground hover:text-primary transition-colors cursor-pointer",onClick:s=>{s.stopPropagation(),e.push("/cooks/".concat(l.cookerName.toLowerCase().replace(" ","-")))},children:l.cookerName})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(b.A,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),(0,t.jsx)("span",{className:"text-sm",children:l.cookerRating})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(el.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:l.distance})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:l.prepTime})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(b.A,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),(0,t.jsxs)("span",{children:[l.rating," (",l.reviewCount,")"]})]})]}),l.cookerSelfDelivery&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-green-600 mb-2",children:[(0,t.jsx)(E.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Entrega por el cocinero"})]}),(0,t.jsx)("div",{className:"flex gap-2 mb-3",children:l.tags.slice(0,3).map(e=>(0,t.jsx)(h.E,{variant:"outline",className:"text-xs",children:e},e))}),(0,t.jsxs)(x.$,{className:"w-full",disabled:!l.isAvailable,onClick:e=>ek(l.id,e),children:[(0,t.jsx)(T.A,{className:"h-4 w-4 mr-2"}),l.isAvailable?s?"View Details":"Crear Cuenta para Pedir":"Sold Out"]})]})]})};return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("div",{className:"sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-3",children:[(0,t.jsxs)("div",{className:"hidden md:flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(M.eu,{className:"h-10 w-10",children:[(0,t.jsx)(M.BK,{src:(null==s?void 0:s.photoURL)||""}),(0,t.jsx)(M.q5,{children:(0,t.jsx)(R.A,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl xl:text-2xl font-bold",children:"Discover Dishes"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground hidden lg:block",children:"Fresh homemade food from local cooks"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(x.$,{variant:"outline",size:"sm",onClick:eI,disabled:$,className:"hidden lg:flex",children:[(0,t.jsx)(ei.A,{className:"h-4 w-4 mr-2 ".concat($?"animate-spin":"")}),$?"Actualizando...":"Actualizar"]}),s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.$,{variant:"outline",size:"sm",className:"hidden lg:flex",children:[(0,t.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Favorites"]}),(0,t.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>e.push("/cart"),children:[(0,t.jsx)(T.A,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Cart"})," (",p,")"]}),(0,t.jsxs)(x.$,{variant:"outline",size:"sm",onClick:a,className:"text-muted-foreground hover:text-destructive",children:[(0,t.jsx)(er.A,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>e.push("/login"),children:"Iniciar Sesi\xf3n"}),(0,t.jsx)(x.$,{size:"sm",onClick:()=>e.push("/login"),className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Crear Cuenta"})]})]})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(M.eu,{className:"h-8 w-8",children:[(0,t.jsx)(M.BK,{src:(null==s?void 0:s.photoURL)||""}),(0,t.jsx)(M.q5,{children:(0,t.jsx)(R.A,{className:"h-4 w-4"})})]}),(0,t.jsx)("h1",{className:"text-lg font-bold",children:"Explorar Platos"})]}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>e.push("/cart"),children:[(0,t.jsx)(T.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:"ml-1",children:["(",p,")"]})]}),(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:a,className:"text-muted-foreground hover:text-destructive",children:(0,t.jsx)(er.A,{className:"h-4 w-4"})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>e.push("/login"),children:"Login"}),(0,t.jsx)(x.$,{size:"sm",onClick:()=>e.push("/login"),children:"Sign Up"})]})})]})})]})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[eg&&q&&(0,t.jsx)(I,{featuredDishes:q.featured,onDishClick:ek,onFavoriteToggle:eA,timeOfDay:K,user:s}),eg&&q&&(0,t.jsx)("div",{className:"mb-8 space-y-8",children:(!q?[]:et.h.getRecommendationSections(K)).map(e=>{let a=q[e.key]||[];return 0===a.length?null:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.subtitle})]})]}),(0,t.jsxs)(x.$,{variant:"ghost",size:"sm",onClick:()=>{var e;null==(e=document.getElementById("main-dishes"))||e.scrollIntoView({behavior:"smooth"})},children:["Ver todos",(0,t.jsx)(L.A,{className:"h-4 w-4 ml-1"})]})]}),(0,t.jsx)("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 auto-rows-max",children:a.slice(0,8).map((a,l)=>{let i="medium",r="";return"featured"===e.key?0===l?(i="featured",r="sm:col-span-2 lg:col-span-2 xl:col-span-3 lg:row-span-2"):(i="medium",r=""):"trending"===e.key?(i=l%3==0?"large":"medium",r=l%3==0?"sm:col-span-2 lg:col-span-2":""):(i="medium",r=""),(0,t.jsx)("div",{className:r,children:(0,t.jsx)(Z,{dish:a,onDishClick:ek,onFavoriteToggle:eA,user:s,size:i,showNutrition:"featured"===i||"large"===i,hasDiscount:.1>Math.random(),discountPercentage:Math.floor(20*Math.random())+10,popularityScore:"trending"===e.key?Math.floor(50*Math.random())+10:0,recommendationContext:{isFromRecommendation:!0,recommendationType:e.key}})},a.id)})})]},e.key)})}),(0,t.jsx)("div",{className:"mb-6 flex justify-center",children:(0,t.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>eu(!eg),className:"flex items-center space-x-2",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[eg?"Ocultar":"Mostrar"," Recomendaciones Inteligentes"]})]})}),(0,t.jsxs)("div",{id:"main-dishes",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Todos los Platos"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Explora nuestra selecci\xf3n completa"})]})}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(en.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(em.p,{placeholder:"Search dishes, cooks, or cuisines...",value:k,onChange:e=>C(e.target.value),className:"pl-10 h-12 text-base bg-background/50 backdrop-blur border-border/50 focus:bg-background focus:border-primary/50 transition-all"}),k&&(0,t.jsx)(x.$,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-accent",onClick:()=>C(""),children:"✕"})]}),Object.keys(es).length>0&&(0,t.jsx)(ea,{selectedCategory:D,onCategorySelect:z,dishCounts:es}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>W(!G),className:"flex-shrink-0",children:[(0,t.jsx)(eo.A,{className:"h-4 w-4 mr-2"}),"Filters"]}),(0,t.jsxs)("select",{value:P,onChange:e=>U(e.target.value),className:"px-3 py-2 border rounded-md text-sm bg-background min-w-0 flex-1 sm:flex-initial",children:[(0,t.jsx)("option",{value:"rating",children:"Highest Rated"}),(0,t.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,t.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,t.jsx)("option",{value:"distance",children:"Nearest First"}),(0,t.jsx)("option",{value:"time",children:"Fastest Prep"})]}),(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-1 ml-2",children:[(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:eI,disabled:$,children:(0,t.jsx)(ei.A,{className:"h-4 w-4 ".concat($?"animate-spin":"")})}),s&&(0,t.jsx)(x.$,{variant:"outline",size:"sm",children:(0,t.jsx)(v.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between sm:justify-end gap-1",children:[(0,t.jsxs)("div",{className:"md:hidden flex items-center gap-1",children:[(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:eI,disabled:$,children:(0,t.jsx)(ei.A,{className:"h-4 w-4 ".concat($?"animate-spin":"")})}),s&&(0,t.jsx)(x.$,{variant:"outline",size:"sm",children:(0,t.jsx)(v.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(x.$,{variant:"grid"===B?"default":"outline",size:"sm",onClick:()=>Q("grid"),children:(0,t.jsx)(ec.A,{className:"h-4 w-4"})}),(0,t.jsx)(x.$,{variant:"list"===B?"default":"outline",size:"sm",onClick:()=>Q("list"),children:(0,t.jsx)(ed.A,{className:"h-4 w-4"})})]})]})]})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Showing ",eM.length," of ",j.length," dishes","All"!==D&&" in ".concat(D),k&&' matching "'.concat(k,'"')]}),O&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",O.toLocaleTimeString()]})]})}),y?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(d.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,t.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Cargando platos..."})]}):eM.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid"===B?"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 auto-rows-max":"space-y-4",children:eM.map((e,a)=>{if("list"===B)return(0,t.jsx)(eC,{dish:e,isListView:!0},e.id);let l="medium",i="";return(a+1)%7==0?(l="featured",i="sm:col-span-2 lg:col-span-2 xl:col-span-2 2xl:col-span-3 lg:row-span-2"):(a+1)%5==0?(l="large",i="sm:col-span-2 lg:col-span-2 xl:col-span-2"):(e.rating,l="medium",i=""),(0,t.jsx)("div",{className:i,children:(0,t.jsx)(Z,{dish:e,onDishClick:ek,onFavoriteToggle:eA,user:s,size:l,showNutrition:"featured"===l||"large"===l,hasDiscount:.08>Math.random(),discountPercentage:Math.floor(15*Math.random())+5})},e.id)})}),eM.length>0&&J&&(0,t.jsx)("div",{className:"mt-8 text-center",children:(0,t.jsx)(x.$,{onClick:ey,disabled:y||$,variant:"outline",children:$?"Actualizando...":"Actualizar platos"})})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(R.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No se encontraron platos"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"Intenta ajustar tu b\xfasqueda o filtros para encontrar m\xe1s platos."}),(0,t.jsx)(x.$,{onClick:()=>{C(""),z("All")},children:"Limpiar Filtros"})]})]})]})]})}},95708:(e,s,a)=>{Promise.resolve().then(a.bind(a,86388))}},e=>{e.O(0,[9135,3965,6331,2670,2647,6751,8275,2104,3015,6959,8441,5964,7358],()=>e(e.s=95708)),_N_E=e.O()}]);